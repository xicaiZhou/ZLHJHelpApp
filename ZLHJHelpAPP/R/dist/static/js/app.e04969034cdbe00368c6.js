webpackJsonp([1],{"4ml/":function(e,t){},"66tF":function(e,t){},"6Wzy":function(e,t){},"89TM":function(e,t){},EuLo:function(e,t){},HHqM:function(e,t){},HrhO:function(e,t){},JELy:function(e,t){},JdRW:function(e,t){},KxGz:function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("keep-alive",[this.$route.meta.keepAlive?t("router-view",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:this.$route.meta.title,expression:"$route.meta.title"}]}):this._e()],1),this._v(" "),this.$route.meta.keepAlive?this._e():t("router-view",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:this.$route.meta.title,expression:"$route.meta.title"}]})],1)},staticRenderFns:[]};var i=o("VU/8")({name:"App"},a,!1,function(e){o("Omzf")},null,null).exports,n=o("/ocq"),l={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("van-nav-bar",{attrs:{title:"中联惠捷"}}),e._v(" "),o("div",{staticStyle:{margin:"30px"}},[o("h4",{staticStyle:{color:"red"}},[e._v("临时功能展示，上线后无此界面")]),e._v(" "),o("van-button",{staticStyle:{"margin-top":"25px"},attrs:{round:"",block:"",type:"info"},on:{click:e.one}},[e._v("初筛结果查询")]),e._v(" "),o("van-button",{staticStyle:{"margin-top":"25px"},attrs:{round:"",block:"",type:"info"},on:{click:e.two}},[e._v("pdf列表")]),e._v(" "),o("van-button",{staticStyle:{"margin-top":"25px"},attrs:{round:"",block:"",type:"info"},on:{click:e.four}},[e._v("demo")])],1)],1)},staticRenderFns:[]};o("VU/8")({data:function(){return{}},methods:{one:function(){this.$router.push({path:"/search",query:{userId:"101"}})},two:function(){this.$router.push({path:"manualList"})},four:function(){this.$router.push({path:"main"})}}},l,!1,function(e){o("bVvF")},null,null).exports;var r=o("mvHQ"),c=o.n(r),d=o("woOf"),u=o.n(d),m=o("//Fk"),h=o.n(m),p=o("mtWM"),v=o.n(p),f=(o("mw3O"),o("Fd2+")),y=o("NYxO");s.a.use(y.a);var b=new y.a.Store({state:{token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJ3ZWIiLCJpc3MiOiJzcHJpbmctYm9vdC1wbHVzIiwiZXhwIjoxNTk0OTAwNzczLCJpYXQiOjE1OTQ4NjQ3NzMsImp0aSI6ImI1Y2FiNWFlNDVkNTQ2YTM5ZGNjMjZlODlkMjRhYmJlIiwidXNlcm5hbWUiOiJhZG1pbiJ9.LThSgZfreU4nxzXqx91QlvML_eKwasNxlD38FVbl3W0",loanId:"",loanNumber:"20200715113656719",productItem:{},userInfo:{},carModel:{},cars:{},exhibition:{},carInfo:{},address:{province_list:[],city_list:[],county_list:[]}},mutations:{updateParam:function(e,t){e.userInfo=t.userInfo,e.token=t.token}},getters:{},actions:{}}),_=v.a.create({});_.defaults.baseURL="https://www.huijiefinance.net",_.defaults.headers.post["Content-Type"]="application/json",_.defaults.timeout=3e4,_.defaults.withCredentials=!0,_.interceptors.request.use(function(e){return e.headers.common.token=b.state.token,e},function(e){return h.a.reject(e)}),_.interceptors.response.use(function(e){return 200==e.data.code?e:(Object(f.a)({message:e.data.msg,type:"error",duration:2e3}),h.a.reject())},function(e){if(e&&e.response)switch(e.response.status){case 302:e.message="未授权，请重新登录";break;case 400:e.message="错误请求";break;case 401:e.message="授权错误，请重新登录";break;case 403:e.message="登录过期，拒绝访问";break;case 404:e.message="请求错误，未找到该资源";break;case 405:e.message="请求方法未允许";break;case 408:e.message="请求超时";break;case 500:e.message="服务器出错";break;case 501:e.message="网络未实现";break;case 502:e.message="网络错误,服务更新中...";break;case 503:e.message="服务不可用";break;case 504:e.message="网络超时";break;case 505:e.message="http版本不支持该请求";break;default:e.message="连接错误"+e.response.status}else e.message="遇到点问题";return Object(f.a)({message:e.message,type:"error",duration:2e3}),h.a.reject(e)});var g=_;function I(e){return g({method:"get",url:"/api/customerInfo/info/"+e.customerId,data:e})}function k(e){return g({method:"post",url:"/api/customerInfo/update",data:e})}var x={data:function(){return{popupShow:!1,showSheet:!1,refreshing:!1,finished:!1,filterDetail:[],loading:!1,type:"",name:"",pIndex:0}},mounted:function(){window.showExhibitionSearch=function(e){showExhibitionSearch()}},methods:{showExhibitionSearch:function(){console.log("zoule"),this.popupShow=!0},exhibitionSelected:function(e){this.$store.state.exhibition=e,this.$router.back()},showSearchIcon:function(){var e=u()({type:"exhibition"}),t=navigator.userAgent,o=(navigator.appVersion,t.indexOf("Android")>-1||t.indexOf("Linux")>-1);!!t.match(/(i[^;]+;( U;)? CPU.+Mac OS X)/)?window.webkit.messageHandlers.showSearchIcon.postMessage(e):o&&android.showSearchIcon(c()(e))},toClear:function(){this.popupShow=!1,this.loanMainName="",this.managerName="",this.filterDetail=[],this.pIndex=1,this.getData()},toSearch:function(){this.popupShow=!1,this.pIndex=1,this.filterDetail=[],this.getData()},onRefresh:function(){this.pIndex=1,this.finished=!1,this.loading=!0,this.getData()},onLoad:function(){console.log("xxxxxxxxxxxxxx",this.finished),this.pIndex+=1,this.getData()},getData:function(){var e=this;this.finished&&(this.finished=!1,this.loading=!0);var t,o=this.$toast.loading({duration:0,message:"加载中...",forbidClick:!0,loadingType:"spinner"}),s=u()({pageIndex:this.pIndex},{pageSize:10});console.log(s),(t=s,g({method:"post",url:"/api/dealer/getPageList",data:t})).then(function(t){o.clear();var s=t.data.data.total,a=t.data.data.records;for(var i in e.refreshing&&(e.filterDetail=[],e.refreshing=!1),a)e.filterDetail.push(a[i]);e.loading=!1,console.log(e.filterDetail),console.log(e.filterDetail.length,s),e.filterDetail.length>=s&&(e.finished=!0),console.log(e.finished)})}},beforeRouteLeave:function(e,t,o){"/carInfo"==e.path?e.meta.keepAlive=!0:e.meta.keepAlive=!1,o()}},C={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("van-popup",{attrs:{position:"top"},model:{value:e.popupShow,callback:function(t){e.popupShow=t},expression:"popupShow"}},[o("div",{staticClass:"search_form"},[o("van-field",{staticStyle:{"border-style":"solid","border-color":"#D5D5D5","border-width":"1px","margin-top":"10px"},attrs:{readonly:"",clickable:"","is-link":"",label:"渠道来源类型:",placeholder:"取到来源类型"},on:{click:function(t){e.showSheet=!0}},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}}),e._v(" "),o("van-field",{staticStyle:{"border-style":"solid","border-color":"#D5D5D5","border-width":"1px","margin-top":"10px"},attrs:{label:"渠道名称:",placeholder:"渠道名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),o("div",{staticClass:"searchBtn"},[o("van-button",{staticStyle:{width:"40%"},attrs:{block:"",type:"info"},on:{click:e.toSearch}},[e._v("查询")]),e._v(" "),o("van-button",{staticStyle:{width:"40%"},attrs:{type:"info"},on:{click:e.toClear}},[e._v("重置")])],1)],1)]),e._v(" "),o("div",{staticClass:"nav_icon"},[o("van-icon",{attrs:{name:"search",size:"25",color:"#07c160"},on:{click:e.showExhibitionSearch}})],1),e._v(" "),o("div",{staticClass:"contentBox"},[o("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[o("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了!"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.filterDetail,function(t,s){return o("div",{key:s,staticClass:"searchContent",on:{click:function(o){return e.exhibitionSelected(t)}}},[o("div",{staticClass:"searchBox"},[e._v("\n            "+e._s(t.name)+"\n          ")]),e._v(" "),o("div",{staticStyle:{width:"20%"}},[e._v(e._s(1==t.type?"展厅":"经销商"))])])}),0)],1)],1)],1)},staticRenderFns:[]};var w=o("VU/8")(x,C,!1,function(e){o("OxE+")},"data-v-f954f93a",null).exports,S={data:function(){return{active:0}},mounted:function(){this.address()},methods:{onChange:function(e){Notify({type:"primary",message:e})},address:function(){var e=this;g({method:"get",url:"/api/provinceCityArea/list",data:{}}).then(function(t){e.$store.state.address=t.data.data,console.log("有地址")})}}},P={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"content"},[o("span",[e._v("录单")]),e._v(" "),o("van-grid",{attrs:{clickable:""}},[o("van-grid-item",{attrs:{icon:"coupon-o",text:"录单",to:"/menu"}}),e._v(" "),o("van-grid-item",{attrs:{icon:"search",text:"查询",to:"/search"}})],1)],1),e._v(" "),o("div",[o("van-tabbar",{attrs:{route:""},on:{change:e.onChange},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[o("van-tabbar-item",{attrs:{replace:"",to:"/",icon:"home-o"}},[e._v("首页")]),e._v(" "),o("van-tabbar-item",{attrs:{replace:"",to:"/search",icon:"search"}},[e._v("查询")]),e._v(" "),o("van-tabbar-item",{attrs:{replace:"",to:"/mine",icon:"friends-o"}},[e._v("我的")])],1)],1)])},staticRenderFns:[]};var A=o("VU/8")(S,P,!1,function(e){o("qQHT")},"data-v-172a01fe",null).exports,T={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"title"},[e._v("新车正审材料提交")]),e._v(" "),e._l(e.listData,function(t,s){return o("div",{key:s,staticClass:"listItem",on:{click:function(o){return e.toDetail(t)}}},[o("div",{staticClass:"itemL"},[o("van-icon",{attrs:{name:"https://b.yzcdn.cn/vant/icon-demo-1126.png",size:"20"}}),e._v(" "),o("div",{staticStyle:{"margin-left":"4px"}},[e._v(e._s(t.name))])],1),e._v(" "),o("div",{staticClass:"itemR"},[o("van-icon",{attrs:{name:"info-o",size:"20"}}),e._v(" "),o("div",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(1==t.state?"未开始":"进行中"))])],1)])}),e._v(" "),o("div",{staticClass:"tips"},[e._v("提交审核后，审核人员会根据您提交的材料反馈审核结果，请耐心等待！")]),e._v(" "),o("div",{staticClass:"subBtn"},[o("van-button",{staticStyle:{width:"100%",background:"#ff9900",border:"none"},attrs:{block:"",type:"info"},on:{click:e.toSub}},[e._v("提交正审")])],1)],2)},staticRenderFns:[]};var V=o("VU/8")({data:function(){return{listData:[{name:"经销商信息",state:1},{name:"融资业务信息",state:1},{name:"个人信息",state:1},{name:"产品选择",state:2},{name:"文件上传",state:1}]}},methods:{toDetail:function(e){"经销商信息"===e.name?this.$router.push({path:"/carInfo"}):"融资业务信息"===e.name?this.$router.push({path:"/business"}):"个人信息"===e.name?this.$router.push({path:"/userInfo"}):"产品选择"===e.name?this.$router.push({path:"/selectProduct"}):"文件上传"===e.name&&this.$router.push({path:"/uploadFile"})},toSub:function(){}},mounted:function(){}},T,!1,function(e){o("f8Zz")},"data-v-907e81d8",null).exports;var N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm";if(e){var o=new Date(e);console.log(o);var s={"M+":o.getMonth()+1,"d+":o.getDate(),"h+":o.getHours(),"m+":o.getMinutes(),"s+":o.getSeconds(),"q+":Math.floor((o.getMonth()+3)/3),S:o.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(o.getFullYear()+"").substr(4-RegExp.$1.length))),s)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?s[a]:("00"+s[a]).substr((""+s[a]).length)));return t}},R=function(e){return!(!/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/.test(e)&&!/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d{4})|\d{3}[A-Z])$/.test(e))},U=function(e){var t="";18==e.length?t=e.substring(6,10):15==e.length&&(t="19"+e.substring(6,8));var o=(new Date).getFullYear()-parseInt(t);console.log(o);var s="";18==e.length?s=e.substring(6,14):15==e.length&&(s="19"+e.substring(6,12));var a="";return 18==e.length?a=e.substring(16,17):15==e.length&&(a=e.substring(14,15)),{age:o,sex:parseInt(a)%2,birthday:s}};var $={data:function(){return{showDate:!1,showIdType:!1,maxDate:new Date,radio:1,showBusiness:!1,businessList:["新车","二手车","车抵贷"],idTypeList:["身份证","社会统一信用代码"],loginSysUserVo:{loanNumber:"",businessType:"",businessTypeName:"",dealerId:"",dealerName:"",seriesId:"",seriesName:"",modelId:"",modelName:"",year:"",otherModel:"",vin:"",engineNumber:"",license:"",mileage:"",colour:"",purchasePrice:"",guidancePrice:"",appraisalPrice:"",firstRegistrationDate:"",usedTime:"",exOwnerName:"",exOwnerIdType:"",exOwnerIdTypeName:"",exOwnerIdNumber:"",exOwnerMobileNumber:"",licenseType:"",importFlag:"",hasDrivingLicense:""}}},watch:{"$store.state.exhibition":{deep:!1,handler:function(e,t){console.log(e,t),this.loginSysUserVo.dealerId=e.id,this.loginSysUserVo.dealerName=e.name,console.log(this.loginSysUserVo)}},"$store.state.carInfo":{deep:!1,handler:function(e,t){console.log(e,t),this.loginSysUserVo.modelId=e.id,this.loginSysUserVo.modelName=e.name,this.loginSysUserVo.guidancePrice=e.guidancePrice,this.loginSysUserVo.seriesId=e.seriesId,this.loginSysUserVo.seriesName=e.seriesName,this.loginSysUserVo.year=e.year,console.log(this.loginSysUserVo)}}},methods:{onSubmit:function(){var e=this;if(this.chechData()){var t,o=this.$toast.loading({duration:0,message:"保存中...",forbidClick:!0,loadingType:"spinner"});(t=this.loginSysUserVo,g({method:"post",url:"/api/loan/add",data:t})).then(function(t){console.log(t),o.clear(),e.$store.state.loanNumber=t.data.data.loanNumber,console.log(t.data.loanNumber),console.log("loanNumber:"+e.$store.state.loanNumber),e.$router.back()})}else this.$toast.fail("请将必填项填写完整")},clear:function(){this.loginSysUserVo={loanNumber:"",businessType:"",businessTypeName:"",dealerId:"",dealerName:"",seriesId:"",seriesName:"",modelId:"",modelName:"",year:"",otherModel:"",vin:"",engineNumber:"",license:"",mileage:"",colour:"",purchasePrice:"",guidancePrice:"",appraisalPrice:"",firstRegistrationDate:"",usedTime:"",exOwnerName:"",exOwnerIdType:"",exOwnerIdTypeName:"",exOwnerIdNumber:"",exOwnerMobileNumber:"",licenseType:"",importFlag:"",hasDrivingLicense:""}},chechData:function(){if(""==this.loginSysUserVo.businessType)return!1;if("1"==this.loginSysUserVo.businessType){if(""==this.loginSysUserVo.dealerId||""==this.loginSysUserVo.modelId||""==this.loginSysUserVo.purchasePrice||""==this.loginSysUserVo.colour||""==this.loginSysUserVo.importFlag||""==this.loginSysUserVo.licenseType||""==this.loginSysUserVo.hasDrivingLicense)return!1}else if("2"==this.loginSysUserVo.businessType){if(""==this.loginSysUserVo.modelId||""==this.loginSysUserVo.firstRegistrationDate||""==this.loginSysUserVo.mileage||""==this.loginSysUserVo.appraisalPrice||""==this.loginSysUserVo.vin||""==this.loginSysUserVo.engineNumber||""==this.loginSysUserVo.licenseType||""==this.loginSysUserVo.hasDrivingLicense||""==this.loginSysUserVo.exOwnerName||""==this.loginSysUserVo.exOwnerIdType||""==this.loginSysUserVo.exOwnerIdNumber||"1"==this.loginSysUserVo.exOwnerIdType&&!R(this.loginSysUserVo.exOwnerIdNumber))return!1}else if(""==this.loginSysUserVo.dealerId||""==this.loginSysUserVo.modelId||""==this.loginSysUserVo.firstRegistrationDate||""==this.loginSysUserVo.mileage||""==this.loginSysUserVo.appraisalPrice||""==this.loginSysUserVo.vin||""==this.loginSysUserVo.engineNumber||""==this.loginSysUserVo.licenseType||""==this.loginSysUserVo.hasDrivingLicense)return!1;return!0},getData:function(){var e,t=this;(e={loanNumber:this.$store.state.loanNumber},g({method:"get",url:"/api/loan/info/"+e.loanNumber,data:e})).then(function(e){console.log(e),t.loginSysUserVo=e.data.data,"3"==t.loginSysUserVo.businessType?t.loginSysUserVo.businessTypeName="车抵贷":"2"==t.loginSysUserVo.businessType?t.loginSysUserVo.businessTypeName="二手车":t.loginSysUserVo.businessTypeName="新车",t.loginSysUserVo.firstRegistrationDate=N(t.loginSysUserVo.firstRegistrationDate,"yyyy-MM-dd")})},selectIdType:function(e){this.loginSysUserVo.exOwnerIdTypeName=e,this.loginSysUserVo.exOwnerIdTypeName="身份证"==e?"1":"2"},selectDate:function(e){this.loginSysUserVo.firstRegistrationDate=N(e,"yyyy-MM-dd"),this.loginSysUserVo.usedTime=function(e){if(e){var t=new Date(e).getTime(),o=(new Date).getTime();return console.log((o-t)/31536e6.toFixed(2)),Math.floor((o-t)/31536e6*100)/100}}(e),this.showDate=!1},selectBusiness:function(e){this.showBusiness=!1,this.loginSysUserVo.businessTypeName!=e&&(this.clear(),this.loginSysUserVo.businessTypeName=e,this.loginSysUserVo.businessType="新车"===e?"1":"二手车"===e?"2":"3")},selectExhibition:function(){this.$router.push({path:"/exhibitionList"})},selectCarModel:function(){this.$router.push({path:"/carModels"})},toSub:function(){this.$refs.form.submit()}},mounted:function(){console.log(this.$store.state.loanNumber),this.$store.state.loanNumber&&this.getData()},beforeRouteLeave:function(e,t,o){e.meta.keepAlive=!1,o()}},D={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{height:"100%","margin-bottom":"60px"}},[o("div",{staticClass:"content"},[o("van-form",{ref:"form",on:{submit:e.onSubmit}},["1"==this.loginSysUserVo.businessType?[o("div",{staticClass:"header"},[e._v("贷款信息")]),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"业务类型:",placeholder:"请选择业务类型"},on:{click:function(t){e.showBusiness=!0}},model:{value:e.loginSysUserVo.businessTypeName,callback:function(t){e.$set(e.loginSysUserVo,"businessTypeName",t)},expression:"loginSysUserVo.businessTypeName"}}),e._v(" "),o("div",{staticClass:"header"},[e._v("渠道信息")]),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"展厅:",name:"",placeholder:"请选择展厅"},on:{click:e.selectExhibition},model:{value:e.loginSysUserVo.dealerName,callback:function(t){e.$set(e.loginSysUserVo,"dealerName",t)},expression:"loginSysUserVo.dealerName"}}),e._v(" "),o("div",{staticClass:"header"},[e._v("车辆信息")]),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"品牌车型:",name:"",placeholder:"请选择品牌车型"},on:{click:e.selectCarModel},model:{value:e.loginSysUserVo.modelName,callback:function(t){e.$set(e.loginSysUserVo,"modelName",t)},expression:"loginSysUserVo.modelName"}}),e._v(" "),o("van-field",{attrs:{readonly:"",required:"",label:"车系:",name:"",placeholder:"请填写车系"},model:{value:e.loginSysUserVo.seriesName,callback:function(t){e.$set(e.loginSysUserVo,"seriesName",t)},expression:"loginSysUserVo.seriesName"}}),e._v(" "),o("van-field",{attrs:{required:"",readonly:"",label:"车辆指导价(万元):",name:"",placeholder:"请填写车辆指导价"},model:{value:e.loginSysUserVo.guidancePrice,callback:function(t){e.$set(e.loginSysUserVo,"guidancePrice",t)},expression:"loginSysUserVo.guidancePrice"}}),e._v(" "),o("van-field",{attrs:{required:"",readonly:"",label:"年份:",name:"",placeholder:"请填写年份"},model:{value:e.loginSysUserVo.year,callback:function(t){e.$set(e.loginSysUserVo,"year",t)},expression:"loginSysUserVo.year"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"开票价格(元):",name:"",type:"digit",placeholder:"请填写开票价格"},model:{value:e.loginSysUserVo.purchasePrice,callback:function(t){e.$set(e.loginSysUserVo,"purchasePrice",t)},expression:"loginSysUserVo.purchasePrice"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"车辆颜色:",name:"",placeholder:"请填写车辆颜色"},model:{value:e.loginSysUserVo.colour,callback:function(t){e.$set(e.loginSysUserVo,"colour",t)},expression:"loginSysUserVo.colour"}}),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("是否进口车：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.loginSysUserVo.importFlag?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loginSysUserVo.importFlag="1"}}},[e._v("进口")]),e._v(" "),o("div",{class:"2"==e.loginSysUserVo.importFlag?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loginSysUserVo.importFlag="2"}}},[e._v("非进口")])])]),e._v(" "),o("div",{staticStyle:{"padding-left":"10px"}},[o("div",{staticClass:"zlhjRadioLine"})])]),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("牌照类型：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.loginSysUserVo.licenseType?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loginSysUserVo.licenseType="1"}}},[e._v("私牌")]),e._v(" "),o("div",{class:"2"==e.loginSysUserVo.licenseType?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loginSysUserVo.licenseType="2"}}},[e._v("公牌")])])]),e._v(" "),o("div",{staticStyle:{"padding-left":"10px"}},[o("div",{staticClass:"zlhjRadioLine"})])]),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("承租人/担保人是否有驾照：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.loginSysUserVo.hasDrivingLicense?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loginSysUserVo.hasDrivingLicense="1"}}},[e._v("有")]),e._v(" "),o("div",{class:"2"==e.loginSysUserVo.hasDrivingLicense?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loginSysUserVo.hasDrivingLicense="2"}}},[e._v("没有")])])]),e._v(" "),o("div",{staticStyle:{"padding-left":"10px"}},[o("div",{staticClass:"zlhjRadioLine"})])])]:"2"==e.loginSysUserVo.businessType?[o("div",{staticClass:"header"},[e._v("贷款信息")]),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"业务类型:",name:"",placeholder:"请选择业务类型"},on:{click:function(t){e.showBusiness=!0}},model:{value:e.loginSysUserVo.businessTypeName,callback:function(t){e.$set(e.loginSysUserVo,"businessTypeName",t)},expression:"loginSysUserVo.businessTypeName"}}),e._v(" "),o("div",{staticClass:"header"},[e._v("车辆信息")]),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"品牌车型:",placeholder:"请选择品牌车型"},on:{click:e.selectCarModel},model:{value:e.loginSysUserVo.modelName,callback:function(t){e.$set(e.loginSysUserVo,"modelName",t)},expression:"loginSysUserVo.modelName"}}),e._v(" "),o("van-field",{attrs:{readonly:"",required:"",label:"车系:",name:"",placeholder:"请填写车系"},model:{value:e.loginSysUserVo.seriesName,callback:function(t){e.$set(e.loginSysUserVo,"seriesName",t)},expression:"loginSysUserVo.seriesName"}}),e._v(" "),o("van-field",{attrs:{readonly:"",required:"",label:"车辆指导价(万元):",name:"",placeholder:"请填写车辆指导价"},model:{value:this.loginSysUserVo.guidancePrice,callback:function(t){e.$set(this.loginSysUserVo,"guidancePrice",t)},expression:"this.loginSysUserVo.guidancePrice"}}),e._v(" "),o("van-field",{attrs:{required:"",readonly:"",label:"年份:",name:"",placeholder:"请填写年份"},model:{value:e.loginSysUserVo.year,callback:function(t){e.$set(e.loginSysUserVo,"year",t)},expression:"loginSysUserVo.year"}}),e._v(" "),o("van-field",{attrs:{label:"首次上牌时间:",required:"","is-link":"",readonly:"",clickable:"",placeholder:"请选择首次上牌时间"},on:{click:function(t){e.showDate=!0}},model:{value:e.loginSysUserVo.firstRegistrationDate,callback:function(t){e.$set(e.loginSysUserVo,"firstRegistrationDate",t)},expression:"loginSysUserVo.firstRegistrationDate"}}),e._v(" "),o("van-field",{attrs:{readonly:"",required:"",label:"车龄:",name:"",placeholder:"请填写车龄"},model:{value:e.loginSysUserVo.usedTime,callback:function(t){e.$set(e.loginSysUserVo,"usedTime",t)},expression:"loginSysUserVo.usedTime"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"里程数(公里):",type:"digit",placeholder:"请填写里程数"},model:{value:e.loginSysUserVo.mileage,callback:function(t){e.$set(e.loginSysUserVo,"mileage",t)},expression:"loginSysUserVo.mileage"}}),e._v(" "),o("van-field",{attrs:{required:"",type:"digit",label:"评估价格(元):",placeholder:"请填写评估价格"},model:{value:e.loginSysUserVo.appraisalPrice,callback:function(t){e.$set(e.loginSysUserVo,"appraisalPrice",t)},expression:"loginSysUserVo.appraisalPrice"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"车架号:",placeholder:"请填写车架号"},model:{value:e.loginSysUserVo.vin,callback:function(t){e.$set(e.loginSysUserVo,"vin",t)},expression:"loginSysUserVo.vin"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"发动机号:",placeholder:"请填写发动机号"},model:{value:e.loginSysUserVo.engineNumber,callback:function(t){e.$set(e.loginSysUserVo,"engineNumber",t)},expression:"loginSysUserVo.engineNumber"}}),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("牌照类型：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.loginSysUserVo.licenseType?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loginSysUserVo.licenseType="1"}}},[e._v("私牌")]),e._v(" "),o("div",{class:"2"==e.loginSysUserVo.licenseType?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loginSysUserVo.licenseType="2"}}},[e._v("公牌")])])]),e._v(" "),o("div",{staticStyle:{"padding-left":"10px"}},[o("div",{staticClass:"zlhjRadioLine"})])]),e._v(" "),o("van-field",{attrs:{required:"",label:"牌照号:",placeholder:"请填写牌照号"},model:{value:e.loginSysUserVo.license,callback:function(t){e.$set(e.loginSysUserVo,"license",t)},expression:"loginSysUserVo.license"}}),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("承租人/担保人是否有驾照：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.loginSysUserVo.hasDrivingLicense?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loginSysUserVo.hasDrivingLicense="1"}}},[e._v("有")]),e._v(" "),o("div",{class:"2"==e.loginSysUserVo.hasDrivingLicense?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loginSysUserVo.hasDrivingLicense="2"}}},[e._v("没有")])])]),e._v(" "),o("div",{staticStyle:{"padding-left":"10px"}},[o("div",{staticClass:"zlhjRadioLine"})])]),e._v(" "),o("van-field",{attrs:{required:"",label:"原有车辆所有人姓名:",placeholder:"原有车辆所有人姓名"},model:{value:e.loginSysUserVo.exOwnerName,callback:function(t){e.$set(e.loginSysUserVo,"exOwnerName",t)},expression:"loginSysUserVo.exOwnerName"}}),e._v(" "),o("van-field",{attrs:{label:"原有车辆所有人手机号:",placeholder:"请填写原有车辆所有人手机号"},model:{value:e.loginSysUserVo.exOwnerMobileNumber,callback:function(t){e.$set(e.loginSysUserVo,"exOwnerMobileNumber",t)},expression:"loginSysUserVo.exOwnerMobileNumber"}}),e._v(" "),o("van-field",{attrs:{"is-link":"",required:"",readonly:"",clickable:"",label:"原有车辆所有人证件类型:",placeholder:"请选择原有车辆所有人证件类型"},on:{click:function(t){e.showIdType=!0}},model:{value:e.loginSysUserVo.exOwnerIdTypeName,callback:function(t){e.$set(e.loginSysUserVo,"exOwnerIdTypeName",t)},expression:"loginSysUserVo.exOwnerIdTypeName"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"原有车辆所有人证件号码:",placeholder:"请填写原有车辆所有人证件号码"},model:{value:e.loginSysUserVo.exOwnerIdNumber,callback:function(t){e.$set(e.loginSysUserVo,"exOwnerIdNumber",t)},expression:"loginSysUserVo.exOwnerIdNumber"}})]:[o("div",{staticClass:"header"},[e._v("贷款信息")]),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"业务类型:",name:"",placeholder:"请选择业务类型"},on:{click:function(t){e.showBusiness=!0}},model:{value:e.loginSysUserVo.businessTypeName,callback:function(t){e.$set(e.loginSysUserVo,"businessTypeName",t)},expression:"loginSysUserVo.businessTypeName"}}),e._v(" "),o("div",{staticClass:"header"},[e._v("车辆信息")]),e._v(" "),o("van-field",{attrs:{"is-link":"",required:"",readonly:"",clickable:"",label:"品牌车型:",placeholder:"请选择品牌车型"},on:{click:e.selectCarModel},model:{value:e.loginSysUserVo.modelName,callback:function(t){e.$set(e.loginSysUserVo,"modelName",t)},expression:"loginSysUserVo.modelName"}}),e._v(" "),o("van-field",{attrs:{readonly:"",required:"",label:"车系:",placeholder:"请填写车系"},model:{value:e.loginSysUserVo.seriesName,callback:function(t){e.$set(e.loginSysUserVo,"seriesName",t)},expression:"loginSysUserVo.seriesName"}}),e._v(" "),o("van-field",{attrs:{readonly:"",required:"",label:"车辆指导价(万元):",placeholder:"请填写车辆指导价"},model:{value:this.loginSysUserVo.guidancePrice,callback:function(t){e.$set(this.loginSysUserVo,"guidancePrice",t)},expression:"this.loginSysUserVo.guidancePrice"}}),e._v(" "),o("van-field",{attrs:{required:"",readonly:"",label:"年份:",name:"",placeholder:"请填写年份"},model:{value:e.loginSysUserVo.year,callback:function(t){e.$set(e.loginSysUserVo,"year",t)},expression:"loginSysUserVo.year"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"首次上牌时间:","is-link":"",readonly:"",clickable:"",placeholder:"请选择首次上牌时间"},on:{click:function(t){e.showDate=!0}},model:{value:e.loginSysUserVo.firstRegistrationDate,callback:function(t){e.$set(e.loginSysUserVo,"firstRegistrationDate",t)},expression:"loginSysUserVo.firstRegistrationDate"}}),e._v(" "),o("van-field",{attrs:{required:"",readonly:"",label:"车龄:",name:"",placeholder:"请填写车龄"},model:{value:e.loginSysUserVo.usedTime,callback:function(t){e.$set(e.loginSysUserVo,"usedTime",t)},expression:"loginSysUserVo.usedTime"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"里程数(公里):",type:"digit",placeholder:"请填写里程数"},model:{value:e.loginSysUserVo.mileage,callback:function(t){e.$set(e.loginSysUserVo,"mileage",t)},expression:"loginSysUserVo.mileage"}}),e._v(" "),o("van-field",{attrs:{required:"",type:"digit",label:"评估价格(元):",placeholder:"请填写评估价格"},model:{value:e.loginSysUserVo.appraisalPrice,callback:function(t){e.$set(e.loginSysUserVo,"appraisalPrice",t)},expression:"loginSysUserVo.appraisalPrice"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"车架号:",placeholder:"请填写车架号"},model:{value:e.loginSysUserVo.vin,callback:function(t){e.$set(e.loginSysUserVo,"vin",t)},expression:"loginSysUserVo.vin"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"发动机号:",placeholder:"请填写发动机号"},model:{value:e.loginSysUserVo.engineNumber,callback:function(t){e.$set(e.loginSysUserVo,"engineNumber",t)},expression:"loginSysUserVo.engineNumber"}}),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("牌照类型：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.loginSysUserVo.licenseType?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loginSysUserVo.licenseType="1"}}},[e._v("私牌")]),e._v(" "),o("div",{class:"2"==e.loginSysUserVo.licenseType?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loginSysUserVo.licenseType="2"}}},[e._v("公牌")])])]),e._v(" "),o("div",{staticStyle:{"padding-left":"10px"}},[o("div",{staticClass:"zlhjRadioLine"})])]),e._v(" "),o("van-field",{attrs:{required:"",label:"牌照号:",placeholder:"请填写牌照号"},model:{value:e.loginSysUserVo.license,callback:function(t){e.$set(e.loginSysUserVo,"license",t)},expression:"loginSysUserVo.license"}}),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("承租人/担保人是否有驾照：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.loginSysUserVo.hasDrivingLicense?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loginSysUserVo.hasDrivingLicense="1"}}},[e._v("有")]),e._v(" "),o("div",{class:"2"==e.loginSysUserVo.hasDrivingLicense?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loginSysUserVo.hasDrivingLicense="2"}}},[e._v("没有")])])]),e._v(" "),o("div",{staticStyle:{"padding-left":"10px"}},[o("div",{staticClass:"zlhjRadioLine"})])])]],2)],1),e._v(" "),o("div",{staticClass:"subBtn"},[o("van-button",{staticClass:"subBtn_body",attrs:{block:"",type:"info"},on:{click:e.toSub}},[e._v("保 存")])],1),e._v(" "),o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showBusiness,callback:function(t){e.showBusiness=t},expression:"showBusiness"}},[o("van-picker",{attrs:{title:"选择业务类型","show-toolbar":"",columns:e.businessList},on:{confirm:e.selectBusiness,cancel:function(t){e.showBusiness=!1}}})],1),e._v(" "),o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showDate,callback:function(t){e.showDate=t},expression:"showDate"}},[o("van-datetime-picker",{attrs:{type:"date","max-date":e.maxDate},on:{confirm:e.selectDate,cancel:function(t){e.showDate=!1}}})],1),e._v(" "),o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showIdType,callback:function(t){e.showIdType=t},expression:"showIdType"}},[o("van-picker",{attrs:{title:"选择证件类型","show-toolbar":"",columns:e.idTypeList},on:{confirm:e.selectIdType,cancel:function(t){e.showIdType=!1}}})],1)],1)},staticRenderFns:[]};var L=o("VU/8")($,D,!1,function(e){o("89TM")},null,null).exports;var z={data:function(){return{popupShow:!1,showSheet:!1,refreshing:!1,finished:!1,showDate:!1,yearList:[],filterDetail:[],loading:!1,pIndex:0,state:1,indexList:[],year:"",carModel:{},cars:{},carModelName:""}},mounted:function(){window.showCarModelSearch=function(e){showCarModelSearch()},this.yearList=function(e){for(var t=(new Date).getFullYear()-e,o=new Array;e>=0;)o.push(t++),e--;return o}(30)},watch:{"$store.state.carModel":{deep:!0,handler:function(e,t){console.log(e,t),this.carModel=e}},"$store.state.cars":{deep:!0,handler:function(e,t){console.log(e,t),this.cars=e}}},methods:{showCarModelSearch:function(){this.popupShow=!0},carInfoSelect:function(e){this.$store.state.carInfo=e,this.$router.back()},selectYear:function(e){this.year=e,this.showDate=!1},selectCarModel:function(){this.$router.push({path:"/carModelList"})},selectCars:function(){""==this.carModel.name?this.$toast.fail("请先选择品牌"):this.$router.push({path:"/carsList"})},showSearchIcon:function(){var e=u()({type:"carModel"}),t=navigator.userAgent,o=(navigator.appVersion,t.indexOf("Android")>-1||t.indexOf("Linux")>-1);!!t.match(/(i[^;]+;( U;)? CPU.+Mac OS X)/)?window.webkit.messageHandlers.showSearchIcon.postMessage(e):o&&android.showSearchIcon(c()(e))},toClear:function(){this.popupShow=!1,this.year="",this.$store.state.carModel={},this.$store.state.cars={},this.filterDetail=[],this.pIndex=1,this.getData()},toSearch:function(){this.popupShow=!1,this.pIndex=1,this.filterDetail=[],this.getData(),this.finished=!1,this.loading=!0},onRefresh:function(){console.log("刷新"),this.pIndex=1,this.finished=!1,this.loading=!0,this.getData()},onLoad:function(){console.log("自动加载更多"),this.pIndex+=1,this.getData()},getData:function(){var e=this;this.finished&&(this.finished=!1,this.loading=!0);var t,o=this.$toast.loading({duration:0,message:"加载中...",forbidClick:!0,loadingType:"spinner"}),s=u()({brandId:this.carModel.id},{seriesId:this.cars.id},{year:this.year},{carModel:this.carModelName},{pageIndex:this.pIndex},{pageSize:10});console.log(s),(t=s,g({method:"post",url:"/api/carModelInfo/getPageList",data:t})).then(function(t){o.clear();var s=t.data.data.total,a=t.data.data.records;for(var i in e.refreshing&&(e.filterDetail=[],e.refreshing=!1),a)e.filterDetail.push(a[i]);e.loading=!1,console.log(e.filterDetail),console.log(e.filterDetail.length,s),e.filterDetail.length>=s&&(e.finished=!0),console.log(e.filterDetail.length)})}},beforeRouteLeave:function(e,t,o){t.meta.keepAlive=!1,"/carInfo"==e.path?e.meta.keepAlive=!0:e.meta.keepAlive=!1,o()}},M={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("van-popup",{attrs:{position:"top"},model:{value:e.popupShow,callback:function(t){e.popupShow=t},expression:"popupShow"}},[o("div",{staticClass:"search_form"},[o("van-field",{staticStyle:{"border-style":"solid","border-color":"#D5D5D5","border-width":"1px","margin-top":"10px"},attrs:{readonly:"",clickable:"","is-link":"",label:"品牌选择:",placeholder:"请选择品牌"},on:{click:e.selectCarModel},model:{value:e.carModel.name,callback:function(t){e.$set(e.carModel,"name",t)},expression:"carModel.name"}}),e._v(" "),o("van-field",{staticStyle:{"border-style":"solid","border-color":"#D5D5D5","border-width":"1px","margin-top":"10px"},attrs:{readonly:"",clickable:"","is-link":"",label:"车系选:",placeholder:"请选择车系"},on:{click:e.selectCars},model:{value:e.cars.name,callback:function(t){e.$set(e.cars,"name",t)},expression:"cars.name"}}),e._v(" "),o("van-field",{staticStyle:{"border-style":"solid","border-color":"#D5D5D5","border-width":"1px","margin-top":"10px"},attrs:{label:"车型模糊:",placeholder:"请填写车型"},on:{click:e.selectCars},model:{value:e.carModelName,callback:function(t){e.carModelName=t},expression:"carModelName"}}),e._v(" "),o("van-field",{staticStyle:{"border-style":"solid","border-color":"#D5D5D5","border-width":"1px","margin-top":"10px"},attrs:{readonly:"",clickable:"","is-link":"",label:"年份:",placeholder:"请选择年份"},on:{click:function(t){e.showDate=!0}},model:{value:e.year,callback:function(t){e.year=t},expression:"year"}}),e._v(" "),o("div",{staticClass:"searchBtn"},[o("van-button",{staticStyle:{width:"40%"},attrs:{block:"",type:"info"},on:{click:e.toSearch}},[e._v("查询")]),e._v(" "),o("van-button",{staticStyle:{width:"40%"},attrs:{type:"info"},on:{click:e.toClear}},[e._v("重置")])],1)],1)]),e._v(" "),o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showDate,callback:function(t){e.showDate=t},expression:"showDate"}},[o("van-picker",{attrs:{title:"选择年份","show-toolbar":"",columns:e.yearList},on:{confirm:e.selectYear,cancel:function(t){e.showDate=!1}}})],1),e._v(" "),o("div",{staticClass:"nav_icon"},[o("van-icon",{attrs:{name:"search",size:"25",color:"#07c160"},on:{click:e.showCarModelSearch}})],1),e._v(" "),o("div",{staticClass:"contentBox"},[o("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[o("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了!"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.filterDetail,function(t,s){return o("div",{key:s,staticClass:"searchContent",on:{click:function(o){return e.carInfoSelect(t)}}},[o("div",{staticClass:"searchBox"},[e._v(e._s(t.name))]),e._v(" "),o("div",{staticStyle:{width:"20%","text-align":"right"}},[e._v(e._s(t.year))])])}),0)],1)],1)],1)},staticRenderFns:[]};var j=o("VU/8")(z,M,!1,function(e){o("66tF")},"data-v-58b0b221",null).exports,q={data:function(){return{title:"",active:1,refreshing:!1,finished:!1,filterDetail:[],loading:!1,pIndex:0,state:1,beginTime:"",endTime:"",dateYM:"",showResult:!1,RefuseList:[],showPicker:!1,dateTime:"",minDate:new Date(2010,0,1),maxDate:YmdGetDate(),calendarData:""}},created:function(){this.title=""},mounted:function(){var e=this;window.showSearch=function(t){e.popupShow=!0}},methods:{showSearch:function(){this.popupShow=!0},toSearch:function(){this.popupShow=!1,this.pIndex=1,this.filterDetail=[],this.getData()},toClear:function(){this.popupShow=!1,this.loanMainName="",this.managerName="",this.filterDetail=[],this.pIndex=1,this.initDate(),this.getData()},onRefresh:function(){this.pIndex=1,this.finished=!1,this.loading=!0,this.getData()},onLoad:function(){this.pIndex+=1,this.getData()},getData:function(){var e=this;this.finished&&(this.finished=!1,this.loading=!0);var t={loanNumber:"",pageIndex:this.pIndex,customerName:"",pageSize:10,credentialNumber:"",keyword:"",customerMobileNumber:"",loanStatus:"",dealerName:""};console.log(t),screenResultInfo(t).then(function(t){toast.clear();var o=t.data.data.total,s=t.data.data.records;for(var a in e.refreshing&&(e.filterDetail=[],e.refreshing=!1),s)e.filterDetail.push(s[a]);e.loading=!1,console.log(e.filterDetail),console.log(e.filterDetail.length,o),e.filterDetail.length>=o&&(e.finished=!0),console.log(e.finished)})},sure:function(){this.showResult=!1}}},H={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"contentBox"},[o("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[o("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了!"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.filterDetail,function(t,s){return o("div",{key:s,staticClass:"searchContent"},[o("p",[e._v("\n            业务编号:\n            "),o("span",[e._v(e._s(t.loanNumber))])]),e._v(" "),o("p",[e._v("\n            合同编号:\n            "),o("span",[e._v(e._s(t.contractNumber))])]),e._v(" "),o("p",[e._v("\n            承租人姓名:\n            "),o("span",[e._v(e._s(t.customerName))])]),e._v(" "),o("p",[e._v("\n            证件号码:\n            "),o("span",[e._v(e._s(t.credentialNumber))])]),e._v(" "),o("p",[e._v("\n            融资金额:\n            "),o("span",[e._v(e._s(t.applyAmount))])]),e._v(" "),o("p",[e._v("\n            融资期限:\n            "),o("span",[e._v(e._s(t.applyTerm))])]),e._v(" "),o("p",[e._v("\n            资方:\n            "),o("span",[e._v(e._s(t.fcName))])]),e._v(" "),o("p",[e._v("\n            产品名称:\n            "),o("span",[e._v(e._s(t.productName))])]),e._v(" "),o("p",[e._v("\n            业务模式:\n            "),o("span",[e._v(e._s(t.businessModel))])]),e._v(" "),o("p",[e._v("\n            业务类型:\n            "),o("span",[e._v(e._s(t.businessType))])]),e._v(" "),o("p",[e._v("\n            展厅:\n            "),o("span",[e._v(e._s(t.dealerName))])]),e._v(" "),o("p",[e._v("\n            提交日期:\n            "),o("span",[e._v(e._s(t.firstSubmitDate))])]),e._v(" "),o("p",[e._v("\n            贷款状态:\n            "),o("span",[e._v(e._s(t.loanStatus))])])])}),0)],1)],1),e._v(" "),o("van-tabbar",{attrs:{route:""},on:{change:e.onChange},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[o("van-tabbar-item",{attrs:{replace:"",to:"/",icon:"home-o"}},[e._v("首页")]),e._v(" "),o("van-tabbar-item",{attrs:{replace:"",to:"/search",icon:"search"}},[e._v("查询")]),e._v(" "),o("van-tabbar-item",{attrs:{replace:"",to:"/mine",icon:"friends-o"}},[e._v("我的")])],1)],1)},staticRenderFns:[]};var O=o("VU/8")(q,H,!1,function(e){o("cdZy")},"data-v-ca558b2a",null).exports,E={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"bgView"},[o("van-image",{staticStyle:{"margin-top":"50px","margin-left":"30px"},attrs:{round:"",width:"5rem",height:"5rem",src:"https://img.yzcdn.cn/vant/cat.jpeg"}}),e._v(" "),o("div",{staticClass:"name"},[e._v("用户名")])],1),e._v(" "),o("van-cell-group",[o("van-field",{attrs:{label:"微信绑定","left-icon":"music-o",placeholder:"已绑定",disabled:"true","is-link":""},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}}),e._v(" "),o("van-field",{attrs:{label:"操作手册","left-icon":"music-o",disabled:"true","is-link":""},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}}),e._v(" "),o("van-field",{attrs:{label:"设置","left-icon":"music-o",disabled:"true","is-link":""},on:{click:e.setupselect},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}}),e._v(" "),o("van-field",{attrs:{label:"版本号","left-icon":"music-o",placeholder:"1.0.0",disabled:"true","is-link":""},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1),e._v(" "),o("div",[o("van-tabbar",{attrs:{route:""},on:{change:e.onChange},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[o("van-tabbar-item",{attrs:{replace:"",to:"/",icon:"home-o"}},[e._v("首页")]),e._v(" "),o("van-tabbar-item",{attrs:{replace:"",to:"/search",icon:"search"}},[e._v("查询")]),e._v(" "),o("van-tabbar-item",{attrs:{replace:"",to:"/mine",icon:"friends-o"}},[e._v("我的")])],1)],1)],1)},staticRenderFns:[]};var F=o("VU/8")({data:function(){return{active:2,value2:"",value1:""}},methods:{setupselect:function(){this.$router.push({path:"/setup"})},onChange:function(){}}},E,!1,function(e){o("HrhO")},"data-v-37bc7edb",null).exports,B={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"section"},[e._v("个人信息")]),e._v(" "),o("van-cell-group",[o("div",{staticClass:"header1 van-hairline--bottom"},[o("div",[e._v("头像")]),e._v(" "),o("div",[o("van-image",{staticStyle:{"margin-top":"10px","margin-left":"30px"},attrs:{round:"",width:"3rem",height:"3rem",src:"https://img.yzcdn.cn/vant/cat.jpeg"}})],1)]),e._v(" "),o("van-field",{attrs:{label:"用户名",placeholder:"tanzhen01"},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1),e._v(" "),o("div",{staticClass:"section"},[e._v("系统信息")]),e._v(" "),o("van-cell-group",[o("van-field",{attrs:{label:"修改密码",disabled:"","is-link":""},on:{click:e.alterpasswordselect},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}}),e._v(" "),o("van-field",{attrs:{label:"缓存",placeholder:"17.45M",disabled:"","is-link":""},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1),e._v(" "),o("div",{staticClass:"section"},[e._v("登录方式(只对本机有效)")]),e._v(" "),o("van-cell-group",[o("van-field",{attrs:{label:"TouchID或FaceID","label-width":"10em",disabled:"","is-link":""},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}}),e._v(" "),o("van-field",{attrs:{label:"手势",disabled:"","is-link":""},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1),e._v(" "),o("div",{staticClass:"subBtn"},[o("van-button",{staticClass:"subBtn_body",attrs:{block:"",type:"info"},on:{click:e.toSub}},[e._v("登 出")])],1)],1)},staticRenderFns:[]};var J=o("VU/8")({data:function(){return{active:2,value1:"",value2:""}},methods:{alterpasswordselect:function(){this.$router.push({path:"/getphonecode"})},toSub:function(){}}},B,!1,function(e){o("TWJO")},"data-v-ec04cf92",null).exports,X={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e._m(0),e._v(" "),o("van-field",{attrs:{center:"",clearable:"",label:"手机验证码",placeholder:"请输入验证码"},scopedSlots:e._u([{key:"button",fn:function(){return[o("van-button",{attrs:{size:"small",type:"primary"}},[e._v("获取验证码")])]},proxy:!0}]),model:{value:e.sms,callback:function(t){e.sms=t},expression:"sms"}}),e._v(" "),o("div",{staticStyle:{padding:"30px"}},[o("van-button",{attrs:{type:"primary",size:"large",color:"#333333"},on:{click:e.next}},[e._v("下一步")])],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"section"},[this._v("\n    为确保是您本人操作，请完成以下办证\n    "),t("br"),this._v("短信验证码已经发送至您的手机130****0099\n  ")])}]};var W=o("VU/8")({data:function(){return{active:2,sms:""}},methods:{next:function(){this.$router.push({path:"/setnewpassword"})}}},X,!1,function(e){o("EuLo")},"data-v-99609488",null).exports,G={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"section"},[e._v("请为您的账号130****0099设置一个新密码")]),e._v(" "),o("van-cell-group",[o("van-field",{attrs:{label:"设置新密码",placeholder:"请输入新密码(8位以上英文+数字)"},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}}),e._v(" "),o("van-field",{attrs:{label:"确认新密码",placeholder:"请输入新密码(8位以上英文+数字)"},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1),e._v(" "),o("div",{staticStyle:{padding:"30px"}},[o("van-button",{attrs:{type:"primary",size:"large",color:"#333333"}},[e._v("确认")])],1)],1)},staticRenderFns:[]};var Y=o("VU/8")({data:function(){return{active:2,value2:""}}},G,!1,function(e){o("6Wzy")},"data-v-97242772",null).exports,Z={data:function(){return{popupShow:!1,showSheet:!1,finished:!1,filterDetail:[],loading:!1,name:"",indexList:[]}},mounted:function(){window.showCarModelSearch=function(e){showCarModelSearch()},this.getData()},methods:{showCarModelSearch:function(){this.popupShow=!0},carSelected:function(e){this.$store.state.carModel=e,console.log(this.$store.state.carModel),this.$router.back()},showSearchIcon:function(){var e=u()({type:"carModel"}),t=navigator.userAgent,o=(navigator.appVersion,t.indexOf("Android")>-1||t.indexOf("Linux")>-1);!!t.match(/(i[^;]+;( U;)? CPU.+Mac OS X)/)?window.webkit.messageHandlers.showSearchIcon.postMessage(e):o&&android.showSearchIcon(c()(e))},toClear:function(){this.popupShow=!1,this.filterDetail=[],this.getData()},toSearch:function(){this.popupShow=!1,this.filterDetail=[],this.getData()},getData:function(){var e,t=this,o=this.$toast.loading({duration:0,message:"加载中...",forbidClick:!0,loadingType:"spinner"}),s=u()({bandName:this.name});(e=s,g({method:"get",url:""==e.bandName?"/api/carElement/getCarBandList/all":"/api/carElement/getCarBandList/"+e.bandName,data:e})).then(function(e){o.clear();var s=e.data.data;for(var a in t.filterDetail=[],s)t.indexList.indexOf(s[a].initial)<=-1&&t.indexList.push(s[a].initial);for(var i in s)t.filterDetail.push(s[i]);t.loading=!1})}},beforeRouteLeave:function(e,t,o){"/carModels"==e.path?e.meta.keepAlive=!0:e.meta.keepAlive=!1,o()}},Q={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("van-popup",{attrs:{position:"top"},model:{value:e.popupShow,callback:function(t){e.popupShow=t},expression:"popupShow"}},[o("div",{staticClass:"search_form"},[o("van-field",{staticStyle:{"border-style":"solid","border-color":"#D5D5D5","border-width":"1px","margin-top":"10px"},attrs:{clickable:"",label:"品牌模糊:",placeholder:"请输入关键字"},on:{click:function(t){e.showSheet=!0}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),o("div",{staticClass:"searchBtn"},[o("van-button",{staticStyle:{width:"40%"},attrs:{block:"",type:"info"},on:{click:e.toSearch}},[e._v("查询")]),e._v(" "),o("van-button",{staticStyle:{width:"40%"},attrs:{type:"info"},on:{click:e.toClear}},[e._v("重置")])],1)],1)]),e._v(" "),o("div",{staticClass:"nav_icon"},[o("van-icon",{attrs:{name:"search",size:"25",color:"#07c160"},on:{click:e.showCarModelSearch}})],1),e._v(" "),o("div",{staticClass:"contentBox"},[o("van-index-bar",{attrs:{"index-list":e.indexList}},e._l(e.indexList,function(t,s){return o("div",{key:s},[o("van-index-anchor",{attrs:{index:t}}),e._v(" "),e._l(e.filterDetail,function(s,a){return o("div",{key:a},[s.initial==t?[o("div",{staticClass:"searchContent",on:{click:function(t){return e.carSelected(s)}}},[e._v("\n              "+e._s(s.name)+"\n            ")])]:e._e()],2)})],2)}),0)],1)],1)},staticRenderFns:[]};var K=o("VU/8")(Z,Q,!1,function(e){o("HHqM")},"data-v-62a20a15",null).exports,ee={data:function(){return{refreshing:!1,finished:!1,filterDetail:[],loading:!1,type:"",name:""}},mounted:function(){this.getData()},methods:{carSelected:function(e){this.$store.state.cars=e,console.log(this.$store.state.item),this.$router.back()},toClear:function(){this.popupShow=!1,this.loanMainName="",this.managerName="",this.filterDetail=[],this.getData()},toSearch:function(){this.popupShow=!1,this.filterDetail=[],this.getData()},getData:function(){var e,t=this,o=this.$toast.loading({duration:0,message:"加载中...",forbidClick:!0,loadingType:"spinner"}),s=u()({bandId:this.$store.state.carModel.id});console.log(s),(e=s,g({method:"get",url:"/api/carElement/getCarSeriesList/"+e.bandId,data:e})).then(function(e){o.clear();var s=e.data.data;for(var a in s)t.filterDetail.push(s[a]);t.loading=!1})}},beforeRouteLeave:function(e,t,o){"/carModels"==e.path?e.meta.keepAlive=!0:e.meta.keepAlive=!1,o()}},te={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"contentBox"},e._l(e.filterDetail,function(t,s){return o("div",{key:s},[o("div",{staticClass:"searchContent",on:{click:function(o){return e.carSelected(t)}}},[e._v(e._s(t.name))])])}),0)])},staticRenderFns:[]};var oe=o("VU/8")(ee,te,!1,function(e){o("iU4w")},"data-v-f318dee8",null).exports,se=o("bOdI"),ae=o.n(se),ie={data:function(){var e;return{addCostAmount:"",addCostType:"",addCostId:0,showTerm:!1,showAddCost:!1,showRepaymentMethod:!1,showUseMethod:!1,showCosType:!1,cosTypeList:["1","2","6"],termList:["12","24","36"],useMethodList:["2"],repaymentMethodList:["等额本息","等额本金","等本等息"],totalAmount:0,carAmount:0,rate:0,gpsAmount:0,baseInfo:(e={loanNumber:"",managerName:"",managerMobileNumber:"",carPrice:0,businessModel:"1",leaseType:"2",leaseTypeName:"回租"},ae()(e,"carPrice",""),ae()(e,"hasGps",""),ae()(e,"isCs",""),ae()(e,"isJjk",""),ae()(e,"downPaymentAmount",0),ae()(e,"term",0),ae()(e,"repaymentMethod",""),ae()(e,"repaymentMethodName",""),ae()(e,"useMethod",""),e),amount:0,cosList:[]}},watch:{"baseInfo.downPaymentAmount":{deep:!0,handler:function(e,t){console.log(e,t),this.calculateCost()}},showAddCost:{deep:!0,handler:function(e,t){e||(this.addCostId=0,this.addCostType="",this.addCostAmount="")}}},methods:{addCostAction:function(){var e=this,t=this.$toast.loading({duration:0,message:"保存中...",forbidClick:!0,loadingType:"spinner"}),o=u()({id:this.addCostId,loanNumber:this.$store.state.loanNumber,expenseType:this.addCostType,amount:this.addCostAmount});console.log("保存费用：",o),function(e){return g({method:"post",url:"/api/expenseDetail/add",data:e})}(o).then(function(o){t.clear(),e.getCostList()}),this.showAddCost=!1},delectCost:function(e){var t=this,o=this.$toast.loading({duration:0,message:"删除中...",forbidClick:!0,loadingType:"spinner"});(function(e){return g({method:"post",url:"/api/expenseDetail/delete/"+e.id,data:e})})(u()({id:e.id})).then(function(e){o.clear(),t.getCostList()})},selectCosType:function(e){this.addCostType=e,this.showCosType=!1},selectTerm:function(e){this.baseInfo.term=e,this.showTerm=!1},selectRepayment:function(e){console.log(e),this.baseInfo.repaymentMethodName=e,this.baseInfo.repaymentMethod="等额本息"==e?"1":"等额本金"==e?"2":"3",this.showRepaymentMethod=!1},selectUseMethod:function(e){this.baseInfo.useMethod=e,this.showUseMethod=!1},toSub:function(){var e=this;console.log(this.baseInfo.leaseType);var t=this.$toast.loading({duration:0,message:"保存中...",forbidClick:!0,loadingType:"spinner"});"1"==this.baseInfo.businessModel?this.baseInfo.leaseType="2":this.baseInfo.leaseType="1";var o=u()({loanNumber:this.$store.state.loanNumber,businessModel:this.baseInfo.businessModel,leaseType:this.baseInfo.leaseType,hasGps:this.baseInfo.hasGps,isCs:this.baseInfo.isCs,isJjk:this.baseInfo.isJjk,totalAmount:this.totalAmount,downPaymentAmount:this.baseInfo.downPaymentAmount,amount:this.amount,term:this.baseInfo.term,repaymentMethod:this.baseInfo.repaymentMethod,useMethod:this.baseInfo.useMethod,rate:this.rate,gpsAmount:this.gpsAmount});console.log(o),""==this.baseInfo.businessModel||"1"==this.baseInfo.businessModel&&null==this.baseInfo.leaseType||null==this.baseInfo.hasGps||null==this.baseInfo.isCs||null==this.baseInfo.isJjk||0==this.totalAmount||0==this.baseInfo.downPaymentAmount||0==this.amount||0==this.baseInfo.term||0==this.rate||null==this.baseInfo.repaymentMethod||null==this.baseInfo.useMethod?this.$toast.fail("请将必填项填写完整"):function(e){return g({method:"post",url:"/api/loan/loanDetail/add",data:e})}(o).then(function(o){t.clear(),e.$router.back()})},calculateCost:function(){var e=this;if(null!=this.baseInfo.downPaymentAmount&&0!=this.baseInfo.downPaymentAmount){var t=u()({term:this.baseInfo.term,rate:this.rate,repaymentMethod:this.baseInfo.repaymentMethod,downPaymentAmount:this.baseInfo.downPaymentAmount,loanNumber:this.$store.state.loanNumber});console.log(t),function(e){return g({method:"post",url:"/api/loan/loanDetail/calculationLoanDetailAmount",data:e})}(t).then(function(t){console.log(t),e.totalAmount=t.data.data.totalAmount,e.amount=t.data.data.amount,e.gpsAmount=t.data.data.gpsAmount,e.rate=t.data.data.rate})}},getBusinessInfo:function(){var e,t=this;(e={loanNumber:this.$store.state.loanNumber},g({method:"get",url:"/api/loan/loanDetail/info/"+e.loanNumber,data:e})).then(function(e){t.baseInfo=e.data.data,"1"==t.baseInfo.repaymentMethod?t.baseInfo.repaymentMethodName="等额本息":"2"==t.baseInfo.repaymentMethod?t.baseInfo.repaymentMethodName="等额本金":t.baseInfo.repaymentMethodName="等本等息","1"==t.baseInfo.leaseType?t.baseInfo.leaseTypeName="直租":t.baseInfo.leaseTypeName="回租",t.getCostList()})},getCostList:function(){var e,t=this;(e={loanNumber:this.$store.state.loanNumber},g({method:"get",url:"/api/expenseDetail/getList/"+e.loanNumber,data:e})).then(function(e){console.log(e),t.cosList=e.data.data,t.calculateCost()})}},mounted:function(){this.getBusinessInfo()}},ne={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{height:"100%","margin-bottom":"60px"}},[o("div",[o("div",{staticClass:"header"},[e._v("贷款信息")]),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("业务模式：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.baseInfo.businessModel?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.baseInfo.businessModel="1"}}},[e._v("租赁")]),e._v(" "),o("div",{class:"2"==e.baseInfo.businessModel?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.baseInfo.businessModel="2"}}},[e._v("贷款")])])]),e._v(" "),e._m(0)]),e._v(" "),o("van-field",{directives:[{name:"show",rawName:"v-show",value:1==e.baseInfo.businessModel,expression:"baseInfo.businessModel == 1"}],staticClass:"readOnly",attrs:{required:"",readonly:"",label:"租赁模式:"},model:{value:e.baseInfo.leaseTypeName,callback:function(t){e.$set(e.baseInfo,"leaseTypeName",t)},expression:"baseInfo.leaseTypeName"}}),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("安装GPS：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.baseInfo.hasGps?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.baseInfo.hasGps="1"}}},[e._v("是")]),e._v(" "),o("div",{class:"2"==e.baseInfo.hasGps?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.baseInfo.hasGps="2"}}},[e._v("否")])])]),e._v(" "),e._m(1)]),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("产险推荐：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.baseInfo.isCs?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.baseInfo.isCs="1"}}},[e._v("是")]),e._v(" "),o("div",{class:"2"==e.baseInfo.isCs?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.baseInfo.isCs="2"}}},[e._v("否")])])]),e._v(" "),e._m(2)]),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("聚家客推荐：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.baseInfo.isJjk?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.baseInfo.isJjk="1"}}},[e._v("是")]),e._v(" "),o("div",{class:"2"==e.baseInfo.isJjk?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.baseInfo.isJjk="2"}}},[e._v("否")])])]),e._v(" "),e._m(3)]),e._v(" "),o("div",{staticClass:"headerAndBtn"},[o("div",{staticClass:"header"},[e._v("费用信息")]),e._v(" "),o("div",{staticStyle:{width:"40px","margin-top":"18px"},on:{click:function(t){e.showAddCost=!0}}},[o("van-icon",{attrs:{color:"#ff9900",size:"20px",name:"add-o"}})],1)]),e._v(" "),o("div",{staticClass:"costBox"},e._l(e.cosList,function(t,s){return o("div",{key:s,staticStyle:{display:"inline-block",margin:"0 8px"}},[o("div",{staticClass:"costBox_item"},[o("div",{staticClass:"costBox_item_body"},[o("div",[e._v("费用类型: "+e._s(t.expenseType))]),e._v(" "),o("div",[e._v("实际金额: "+e._s(t.amount))])]),e._v(" "),"1"!=t.expenseType?o("div",{staticClass:"costBox_item_action"},[o("van-button",{staticStyle:{height:"100%",width:"100%"},attrs:{type:"info"},on:{click:function(o){return e.delectCost(t)}}},[e._v("删除")])],1):o("div",{staticClass:"costBox_item_action"},[o("van-button",{staticStyle:{height:"100%",width:"100%"},attrs:{type:"info"}},[e._v("-")])],1)])])}),0),e._v(" "),o("van-field",{directives:[{name:"show",rawName:"v-show",value:1==e.baseInfo.businessModel,expression:"baseInfo.businessModel == 1"}],staticClass:"readOnly",attrs:{type:"digit",label:"项目总额(元):",placeholder:"请填写项目金额"},model:{value:e.totalAmount,callback:function(t){e.totalAmount=t},expression:"totalAmount"}}),e._v(" "),o("van-field",{directives:[{name:"show",rawName:"v-show",value:2==e.baseInfo.businessModel,expression:"baseInfo.businessModel == 2"}],staticClass:"readOnly",attrs:{type:"digit",label:"标的物价格(元):",placeholder:"请填写标的物价格"},model:{value:e.totalAmount,callback:function(t){e.totalAmount=t},expression:"totalAmount"}}),e._v(" "),o("van-field",{attrs:{label:"首付金额(元):",type:"digit",placeholder:"请填写首付金额"},model:{value:e.baseInfo.downPaymentAmount,callback:function(t){e.$set(e.baseInfo,"downPaymentAmount",t)},expression:"baseInfo.downPaymentAmount"}}),e._v(" "),o("van-field",{directives:[{name:"show",rawName:"v-show",value:1==e.baseInfo.businessModel,expression:"baseInfo.businessModel == 1"}],staticClass:"readOnly",attrs:{label:"融资金额(元):",type:"digit",placeholder:"请填写融资金额"},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}}),e._v(" "),o("van-field",{directives:[{name:"show",rawName:"v-show",value:2==e.baseInfo.businessModel,expression:"baseInfo.businessModel == 2"}],staticClass:"readOnly",attrs:{label:"贷款金额(元):",type:"digit",placeholder:"请填写贷款金额"},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}}),e._v(" "),o("van-field",{directives:[{name:"show",rawName:"v-show",value:2==e.baseInfo.businessModel,expression:"baseInfo.businessModel == 2"}],attrs:{"is-link":"",readonly:"",clickable:"",label:"贷款期限(月):",placeholder:"请选择贷款期限"},on:{click:function(t){e.showTerm=!0}},model:{value:e.baseInfo.term,callback:function(t){e.$set(e.baseInfo,"term",t)},expression:"baseInfo.term"}}),e._v(" "),o("van-field",{directives:[{name:"show",rawName:"v-show",value:1==e.baseInfo.businessModel,expression:"baseInfo.businessModel == 1"}],attrs:{"is-link":"",readonly:"",clickable:"",label:"租赁期限(月):",placeholder:"请选择租赁期限"},on:{click:function(t){e.showTerm=!0}},model:{value:e.baseInfo.term,callback:function(t){e.$set(e.baseInfo,"term",t)},expression:"baseInfo.term"}}),e._v(" "),o("van-field",{attrs:{"is-link":"",readonly:"",clickable:"",label:"还款方式:",placeholder:"请选择还款方式"},on:{click:function(t){e.showRepaymentMethod=!0}},model:{value:e.baseInfo.repaymentMethodName,callback:function(t){e.$set(e.baseInfo,"repaymentMethodName",t)},expression:"baseInfo.repaymentMethodName"}}),e._v(" "),o("van-field",{directives:[{name:"show",rawName:"v-show",value:1==e.baseInfo.businessModel,expression:"baseInfo.businessModel == 1"}],attrs:{"is-link":"",readonly:"",clickable:"",label:"租赁用途:",placeholder:"请选择租赁用途"},on:{click:function(t){e.showUseMethod=!0}},model:{value:e.baseInfo.useMethod,callback:function(t){e.$set(e.baseInfo,"useMethod",t)},expression:"baseInfo.useMethod"}}),e._v(" "),o("van-field",{directives:[{name:"show",rawName:"v-show",value:2==e.baseInfo.businessModel,expression:"baseInfo.businessModel == 2"}],attrs:{"is-link":"",readonly:"",clickable:"",label:"贷款用途:",placeholder:"请选择贷款用途"},on:{click:function(t){e.showUseMethod=!0}},model:{value:e.baseInfo.useMethod,callback:function(t){e.$set(e.baseInfo,"useMethod",t)},expression:"baseInfo.useMethod"}}),e._v(" "),o("van-field",{directives:[{name:"show",rawName:"v-show",value:1==e.baseInfo.businessModel,expression:"baseInfo.businessModel == 1"}],staticClass:"readOnly",attrs:{label:"租赁成数(%):",type:"digit",placeholder:"请填写租赁成数"},model:{value:e.rate,callback:function(t){e.rate=t},expression:"rate"}}),e._v(" "),o("van-field",{directives:[{name:"show",rawName:"v-show",value:2==e.baseInfo.businessModel,expression:"baseInfo.businessModel == 2"}],staticClass:"readOnly",attrs:{label:"贷款成数(%):",type:"digit",placeholder:"请填写贷款成数"},model:{value:e.rate,callback:function(t){e.rate=t},expression:"rate"}}),e._v(" "),o("van-field",{staticClass:"readOnly",attrs:{label:"GPS金额(元):",type:"digit",placeholder:"请填写首付金额"},model:{value:e.gpsAmount,callback:function(t){e.gpsAmount=t},expression:"gpsAmount"}}),e._v(" "),o("div",{staticClass:"header"},[e._v("录单人信息")]),e._v(" "),o("van-field",{staticClass:"readOnly",attrs:{label:"销售姓名:",placeholder:"请填写销售姓名"},model:{value:e.baseInfo.managerName,callback:function(t){e.$set(e.baseInfo,"managerName",t)},expression:"baseInfo.managerName"}}),e._v(" "),o("van-field",{staticClass:"readOnly",attrs:{label:"销售联系方式:",placeholder:"请填写销售联系方式"},model:{value:e.baseInfo.managerMobileNumber,callback:function(t){e.$set(e.baseInfo,"managerMobileNumber",t)},expression:"baseInfo.managerMobileNumber"}})],1),e._v(" "),o("div",{staticClass:"subBtn"},[o("van-button",{staticClass:"subBtn_body",attrs:{block:"",type:"info"},on:{click:e.toSub}},[e._v("保 存")])],1),e._v(" "),o("div",[o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showTerm,callback:function(t){e.showTerm=t},expression:"showTerm"}},[o("van-picker",{attrs:{title:"","show-toolbar":"",columns:e.termList},on:{confirm:e.selectTerm,cancel:function(t){e.showTerm=!1}}})],1),e._v(" "),o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showRepaymentMethod,callback:function(t){e.showRepaymentMethod=t},expression:"showRepaymentMethod"}},[o("van-picker",{attrs:{title:"","show-toolbar":"",columns:e.repaymentMethodList},on:{confirm:e.selectRepayment,cancel:function(t){e.showRepaymentMethod=!1}}})],1),e._v(" "),o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showUseMethod,callback:function(t){e.showUseMethod=t},expression:"showUseMethod"}},[o("van-picker",{attrs:{title:"","show-toolbar":"",columns:e.useMethodList},on:{confirm:e.selectUseMethod,cancel:function(t){e.showUseMethod=!1}}})],1),e._v(" "),o("van-popup",{style:{height:"200px",width:"90%"},attrs:{"get-container":"body"},model:{value:e.showAddCost,callback:function(t){e.showAddCost=t},expression:"showAddCost"}},[o("div",[o("div",{staticClass:"showAddCost_title van-hairline--bottom"},[e._v("添加费用信息")]),e._v(" "),o("div",{staticClass:"showAddCost_body"},[o("van-field",{staticStyle:{"border-style":"solid","border-color":"#D5D5D5","border-width":"1px","margin-top":"10px"},attrs:{readonly:"",clickable:"","is-link":"",label:"费用类型:",placeholder:"请选择"},on:{click:function(t){e.showCosType=!0}},model:{value:e.addCostType,callback:function(t){e.addCostType=t},expression:"addCostType"}}),e._v(" "),o("van-field",{staticStyle:{"border-style":"solid","border-color":"#D5D5D5","border-width":"1px","margin-top":"10px"},attrs:{label:"实际金额:",type:"digit",placeholder:"请填写"},model:{value:e.addCostAmount,callback:function(t){e.addCostAmount=t},expression:"addCostAmount"}})],1),e._v(" "),o("div",{staticClass:"showAddCost_btn van-hairline--top"},[o("van-button",{staticStyle:{width:"50%"},on:{click:function(t){e.showAddCost=!1}}},[e._v("取消")]),e._v(" "),o("van-button",{staticStyle:{width:"50%"},attrs:{type:"info"},on:{click:e.addCostAction}},[e._v("保存")])],1)])]),e._v(" "),o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showCosType,callback:function(t){e.showCosType=t},expression:"showCosType"}},[o("van-picker",{attrs:{title:"","show-toolbar":"",columns:e.cosTypeList},on:{confirm:e.selectCosType,cancel:function(t){e.showCosType=!1}}})],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"padding-left":"10px"}},[t("div",{staticClass:"zlhjRadioLine"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"padding-left":"10px"}},[t("div",{staticClass:"zlhjRadioLine"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"padding-left":"10px"}},[t("div",{staticClass:"zlhjRadioLine"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"padding-left":"10px"}},[t("div",{staticClass:"zlhjRadioLine"})])}]};var le=o("VU/8")(ie,ne,!1,function(e){o("nyYa")},"data-v-5e16cc03",null).exports,re={data:function(){return{addUserInfo:{loanNumber:this.$store.state.loanNumber,customerName:"",customerRole:"",customerRoleValue:"",customerType:"",customerTypeValue:"",relation:"",relationValue:"",idType:"",idTypeValue:"",idNum:"",createdBy:"zxc",createdTime:"2020-07-08"},isMainUser:!1,licenseType:"",customerList:[],addName:"",showAddUser:!1,showRole:!1,showRelation:!1,relationList:[],showCustomerType:!1,showIdType:!1,mainListData:[],danbaoListData:[]}},watch:{showAddUser:{deep:!0,handler:function(e,t){e||(console.log("来了"),this.addUserInfo={loanNumber:this.$store.state.loanNumber,customerName:"",customerRole:"",customerRoleValue:"",customerType:"",customerTypeValue:"",relation:"",relationValue:"",idType:"",idTypeValue:"",idNum:"",createdBy:"zxc",createdTime:"2020-07-08"})}}},methods:{showSelectRelation:function(){this.isMainUser?this.relationList=["本人"]:"1"==this.licenseType?this.relationList=["夫妻","父母","子女","兄弟姐妹","同事","其他"]:this.relationList=["法人","实际使用人","股东","高管","其他"],showRelation=!0},toDetail:function(e){"1"==e.customerType?this.$router.push({name:"userInfoDetail",params:{customerId:e.customerId}}):this.$router.push({name:"maleBrandInfoDetail",params:{customerId:e.customerId}})},toSub:function(){this.$router.back()},showCustomerTypeAction:function(){this.isMainUser?"1"==this.licenseType?this.customerList=["自然人"]:this.customerList=["企业"]:this.customerList=["自然人","企业"],this.showCustomerType=!0},selectIdType:function(e){this.addUserInfo.idTypeValue=e,this.addUserInfo.idType="身份证"==e?"1":"2",this.showIdType=!1},selectRole:function(e){"承租人"==e?(this.addUserInfo.customerRoleValue=e,this.addUserInfo.customerRole="1"):(this.addUserInfo.customerRoleValue=e,this.addUserInfo.customerRole="2"),this.showRole=!1},realtion:function(e){console.log("val",e)},selectRelation:function(e){"1"==this.licenseType?"本人"==e?(this.addUserInfo.relationValue=e,this.addUserInfo.relation="1"):"夫妻"==e?(this.addUserInfo.relationValue=e,this.addUserInfo.relation="2"):"父母"==e?(this.addUserInfo.relationValue=e,this.addUserInfo.relation="3"):"子女"==e?(this.addUserInfo.relationValue=e,this.addUserInfo.relation="4"):"兄弟姐妹"==e?(this.addUserInfo.relationValue=e,this.addUserInfo.relation="5"):"同事"==e?(this.addUserInfo.relationValue=e,this.addUserInfo.relation="6"):"其他"==e&&(this.addUserInfo.relationValue=e,this.addUserInfo.relation="7"):"本人"==e?(this.addUserInfo.relationValue=e,this.addUserInfo.relation="1"):"法人"==e?(this.addUserInfo.relationValue=e,this.addUserInfo.relation="2"):"实际使用人"==e?(this.addUserInfo.relationValue=e,this.addUserInfo.relation="3"):"股东"==e?(this.addUserInfo.relationValue=e,this.addUserInfo.relation="4"):"高管"==e?(this.addUserInfo.relationValue=e,this.addUserInfo.relation="5"):"其他"==e&&(this.addUserInfo.relationValue=e,this.addUserInfo.relation="6"),this.showRelation=!1},selectCustomerType:function(e){"自然人"==e?(this.addUserInfo.customerTypeValue=e,this.addUserInfo.customerType="1"):(this.addUserInfo.customerTypeValue=e,this.addUserInfo.customerType="2"),this.showCustomerType=!1},addUserAction:function(){var e,t=this;""!=this.addUserInfo.customerRole&&""!=this.addUserInfo.customerType?"1"==this.addUserInfo.idType&&this.addUserInfo.idNum.length>0&&!R(this.addUserInfo.idNum)?this.$toast.fail("身份证格式错误"):(console.log(this.addUserInfo),(e=this.addUserInfo,g({method:"post",url:"/api/customerInfo/add",data:e})).then(function(e){console.log(e),t.getUserList(),t.showAddUser=!1})):this.$toast.fail("请将必填项填写完整")},delectClick:function(e){var t,o=this;console.log(e),(t={customerId:e.customerId},g({method:"post",url:"/api/customerInfo/delete/"+t.customerId,data:t})).then(function(e){o.getUserList()})},getUserList:function(){var e,t=this,o=u()({loanId:this.$store.state.loanNumber});(e=o,g({method:"get",url:"/api/customerInfo/getLoanCustomerList/"+e.loanId,data:e})).then(function(e){console.log(e.data),t.licenseType=e.data.data.licenseType,console.log(t.licenseType);var o=e.data.data.customerInfoList;for(var s in t.mainListData=[],t.danbaoListData=[],o){var a=o[s].relation,i="";switch(parseInt(a)){case 1:i="本人";break;case 2:i="夫妻";break;case 3:i="父母";break;case 4:i="子女";break;case 5:i="兄弟姐妹";break;case 6:i="同事";break;case 7:i="其他"}o[s].relationValue=i,"1"==o[s].customerRole?t.mainListData.push(o[s]):t.danbaoListData.push(o[s])}})}},mounted:function(){this.getUserList()}},ce={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{height:"100%","margin-bottom":"60px"}},[o("div",[o("div",{staticStyle:{"margin-top":"20px"}},[o("div",{staticClass:"headerAndBtn"},[o("div",{staticClass:"header"},[e._v("承租人信息")]),e._v(" "),o("div",{staticStyle:{width:"40px","margin-top":"18px"},on:{click:function(t){e.showAddUser=!0,e.isMainUser=!0}}},[o("van-icon",{attrs:{color:"#ff9900",size:"20px",name:"add-o"}})],1)]),e._v(" "),e._l(e.mainListData,function(t,s){return o("div",{key:s,on:{click:function(o){return e.toDetail(t)}}},[o("van-swipe-cell",{scopedSlots:e._u([{key:"right",fn:function(){return[o("van-button",{attrs:{square:"",type:"danger",text:"删除"},on:{click:function(o){return e.delectClick(t)}}})]},proxy:!0}],null,!0)},[o("div",{staticClass:"listItem"},[o("div",{staticClass:"itemL"},[o("van-icon",{attrs:{name:"https://b.yzcdn.cn/vant/icon-demo-1126.png",size:"20"}}),e._v(" "),o("div",{staticStyle:{"margin-left":"4px"}},[e._v(e._s(t.customerName))]),e._v(" "),o("div",{staticStyle:{"margin-left":"20px"}},[e._v(e._s(t.relationValue))])],1),e._v(" "),o("div",{staticClass:"itemR"},[o("div",[e._v(e._s("1"==e.licenseType?"自然人":"企业"))]),e._v(" "),1==t.saveFlag?o("van-icon",{staticStyle:{"margin-left":"4px"},attrs:{color:"#0066FF",name:"checked",size:"18"}}):o("van-icon",{staticStyle:{"margin-left":"4px"},attrs:{name:"info-o",size:"18"}})],1)])])],1)})],2),e._v(" "),o("div",{staticStyle:{"margin-top":"20px"}},[o("div",{staticClass:"headerAndBtn"},[o("div",{staticClass:"header"},[e._v("担保人信息")]),e._v(" "),o("div",{staticStyle:{width:"40px","margin-top":"18px"},on:{click:function(t){e.showAddUser=!0,e.isMainUser=!1}}},[o("van-icon",{attrs:{color:"#ff9900",size:"20px",name:"add-o"}})],1)]),e._v(" "),e._l(e.danbaoListData,function(t,s){return o("div",{key:s,on:{click:function(o){return e.toDetail(t)}}},[o("van-swipe-cell",{scopedSlots:e._u([{key:"right",fn:function(){return[o("van-button",{attrs:{square:"",type:"danger",text:"删除"},on:{click:function(o){return e.delectClick(t)}}})]},proxy:!0}],null,!0)},[o("div",{staticClass:"listItem"},[o("div",{staticClass:"itemL"},[o("van-icon",{attrs:{name:"https://b.yzcdn.cn/vant/icon-demo-1126.png",size:"20"}}),e._v(" "),o("div",{staticStyle:{"margin-left":"4px"}},[e._v(e._s(t.customerName))]),e._v(" "),o("div",{staticStyle:{"margin-left":"20px"}},[e._v(e._s(t.relationValue))])],1),e._v(" "),o("div",{staticClass:"itemR"},[o("div",[e._v(e._s("1"==t.licenseType?"自然人":"企业"))]),e._v(" "),1==t.saveFlag?o("van-icon",{staticStyle:{"margin-left":"4px"},attrs:{color:"#0066FF",name:"checked",size:"18"}}):o("van-icon",{staticStyle:{"margin-left":"4px"},attrs:{name:"info-o",size:"18"}})],1)])])],1)})],2)]),e._v(" "),o("div",[o("van-popup",{style:{height:"428px",width:"93%"},attrs:{"get-container":"body"},model:{value:e.showAddUser,callback:function(t){e.showAddUser=t},expression:"showAddUser"}},[o("div",[o("div",{staticClass:"showAddCost_title van-hairline--bottom"},[e._v("添加人员信息")]),e._v(" "),o("div",{staticClass:"showAddCost_body",staticStyle:{"font-size":"10px"}},[o("van-field",{staticStyle:{"border-style":"solid","border-color":"#D5D5D5","border-width":"1px","margin-top":"10px"},attrs:{readonly:"",clickable:"","is-link":"",required:"",label:"客户角色:",placeholder:"请选择"},on:{click:function(t){e.showRole=!0}},model:{value:e.addUserInfo.customerRoleValue,callback:function(t){e.$set(e.addUserInfo,"customerRoleValue",t)},expression:"addUserInfo.customerRoleValue"}}),e._v(" "),o("van-field",{staticStyle:{"border-style":"solid","border-color":"#D5D5D5","border-width":"1px","margin-top":"10px"},attrs:{readonly:"",clickable:"","is-link":"",required:"",label:"客户类型:",placeholder:"请选择"},on:{click:e.showCustomerTypeAction},model:{value:e.addUserInfo.customerTypeValue,callback:function(t){e.$set(e.addUserInfo,"customerTypeValue",t)},expression:"addUserInfo.customerTypeValue"}}),e._v(" "),o("van-field",{staticStyle:{"border-style":"solid","border-color":"#D5D5D5","border-width":"1px","margin-top":"10px"},attrs:{label:"客户名称:",placeholder:"请填写"},model:{value:e.addUserInfo.customerName,callback:function(t){e.$set(e.addUserInfo,"customerName",t)},expression:"addUserInfo.customerName"}}),e._v(" "),o("van-field",{staticStyle:{"border-style":"solid","border-color":"#D5D5D5","border-width":"1px","margin-top":"10px"},attrs:{readonly:"",clickable:"","is-link":"",label:"与承租人关系:",placeholder:"请选择"},on:{click:e.showSelectRelation},model:{value:e.addUserInfo.relationValue,callback:function(t){e.$set(e.addUserInfo,"relationValue",t)},expression:"addUserInfo.relationValue"}}),e._v(" "),o("van-field",{staticStyle:{"border-style":"solid","border-color":"#D5D5D5","border-width":"1px","margin-top":"10px"},attrs:{readonly:"",clickable:"","is-link":"",label:"证件类型:",placeholder:"请选择"},on:{click:function(t){e.showIdType=!0}},model:{value:e.addUserInfo.idTypeValue,callback:function(t){e.$set(e.addUserInfo,"idTypeValue",t)},expression:"addUserInfo.idTypeValue"}}),e._v(" "),o("van-field",{staticStyle:{"border-style":"solid","border-color":"#D5D5D5","border-width":"1px","margin-top":"10px"},attrs:{label:"证件号码:",placeholder:"请填写"},model:{value:e.addUserInfo.idNum,callback:function(t){e.$set(e.addUserInfo,"idNum",t)},expression:"addUserInfo.idNum"}})],1),e._v(" "),o("div",{staticClass:"showAddCost_btn van-hairline--top"},[o("van-button",{staticStyle:{width:"50%"},on:{click:function(t){e.showAddUser=!1}}},[e._v("取消")]),e._v(" "),o("van-button",{staticStyle:{width:"50%"},attrs:{type:"info"},on:{click:e.addUserAction}},[e._v("保存")])],1)])]),e._v(" "),o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showRole,callback:function(t){e.showRole=t},expression:"showRole"}},[o("van-picker",{attrs:{title:"","show-toolbar":"",columns:e.isMainUser?["承租人"]:["担保人"]},on:{confirm:e.selectRole,cancel:function(t){e.showRole=!1}}})],1),e._v(" "),o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showCustomerType,callback:function(t){e.showCustomerType=t},expression:"showCustomerType"}},[o("van-picker",{attrs:{title:"","show-toolbar":"",columns:e.customerList},on:{confirm:e.selectCustomerType,cancel:function(t){e.showCustomerType=!1}}})],1),e._v(" "),o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showRelation,callback:function(t){e.showRelation=t},expression:"showRelation"}},[o("van-picker",{attrs:{title:"","show-toolbar":"",columns:e.relationList},on:{confirm:e.selectRelation,cancel:function(t){e.showRelation=!1}}})],1),e._v(" "),o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showIdType,callback:function(t){e.showIdType=t},expression:"showIdType"}},[o("van-picker",{attrs:{title:"","show-toolbar":"",columns:"1"==e.addUserInfo.customerRole?["身份证"]:["社会统一信用代码"]},on:{confirm:e.selectIdType,cancel:function(t){e.showIdType=!1}}})],1)],1),e._v(" "),o("div",{staticClass:"subBtn"},[o("van-button",{staticClass:"subBtn_body",attrs:{block:"",type:"info"},on:{click:e.toSub}},[e._v("保 存")])],1)])},staticRenderFns:[]};var de=o("VU/8")(re,ce,!1,function(e){o("JdRW")},"data-v-04b1381d",null).exports;function ue(e,t){if("1"==e){var o="";switch(parseInt(t)){case 1:o="本人";break;case 2:o="夫妻";break;case 3:o="父母";break;case 4:o="子女";break;case 5:o="兄弟姐妹";break;case 6:o="同事";break;case 7:o="其他"}return o}if("2"==e)switch(parseInt(t)){case 1:return"身份证";case 2:return"社会统一信用代码"}else if("3"==e)switch(parseInt(t)){case 1:return"未婚";case 2:return"已婚";case 3:return"丧偶";case 4:return"离婚"}else if("4"==e)switch(parseInt(t)){case 1:return"标准受薪";case 2:return"自雇人士";case 3:return"自由职业"}else if("5"==e)switch(parseInt(t)){case 1:return"中华人民共和国"}else if("6"==e)switch(parseInt(t)){case 1:return"自然人";case 2:return"企业"}else if("7"==e)switch(parseInt(t)){case 1:return"硕士及以上";case 2:return"本科";case 3:return"大专";case 4:return"高中/中专";case 5:return"初中及以下"}else if("8"==e)switch(parseInt(t)){case 1:return"自购无按揭";case 2:return"按揭";case 3:return"亲属住房";case 4:return"宅基地房";case 5:return"租房"}else if("9"==e)switch(parseInt(t)){case 1:return"自用";case 2:return"出租";case 3:return"空置"}else if("10"==e)switch(parseInt(t)){case 1:return"政府机关/事业单位";case 2:return"国企";case 3:return"外资/合资";case 4:return"国企";case 5:return"民营";case 6:return"个体";case 7:return"其他"}else if("11"==e)switch(parseInt(t)){case 1:return"高层";case 2:return"中层";case 3:return"基层";case 4:return"一般员工";case 5:return"销售类员工";case 6:return"操作类员工";case 7:return"非正式员工";case 8:return"其他";case 9:return"无"}else if("12"==e)switch(parseInt(t)){case 1:return"身份证"}else if("13"==e)switch(parseInt(t)){case 1:return"本人";case 2:return"法人";case 3:return"实际使用人";case 4:return"股东";case 5:return"高管";case 6:return"其他"}}function me(e,t){for(var o in t)if(e==t[o])return++o}function he(e){return null==e||""==e}function pe(e){var t=b.state.address,o="",s="",a="";for(var i in t.province_list)e.province==i&&(o=t.province_list[i]);for(var n in t.city_list)e.city==n&&(s=t.city_list[n]);for(var l in t.county_list)e.area==l&&(a=t.county_list[l]);return o+s+a}var ve={data:function(){return{showPop:!1,popList:[],selectIndex:0,showDatePop:!1,minDate:new Date,showAddressPop:!1,selectAddressIndex:0,addressList:this.$store.state.address,customerInfo:{customerId:"",customerName:"",beforeName:"",loanNumber:"",customerRole:"",customerType:"",relation:"",relationValue:"",sex:"",idType:"",idNum:"",isMarry:"",isMarryValue:"",birthday:"",age:"",occupationType:"",nationality:"",isLongTerm:"",certificateEndDate:"",certificationAuthority:"",idCardProvince:"",idCardCity:"",idCardArea:"",idCardAddress:"",phone:"",isLocal:"",customerNature:"",educationLevel:"",highestEducation:"",creditFlag:"",blacklistFlag:"",commons:"",saveFlag:"",createdBy:"",createdTime:"",updateBy:"",updateTime:""},customerHouseProperty:{id:"",customerId:"",liveType:"",whetherIdAddr:"",liveProvince:"",liveCity:"",liveArea:"",liveAddress:"",telephone:"",roomType:"",roomNature:"",roomProvince:"",roomCity:"",roomArea:"",roomAddress:"",roomAreas:"",roomNum:"",createdBy:"",createdTime:"",updateBy:"",updateTime:""},customerAssets:{id:"",customerId:"",familyMonthIncome:"",familyMonthExpenditure:"",firstBuyCar:"",buyCarPurpose:"",socialSecurityNumber:"",createdBy:"",createdTime:"",updateBy:"",updateTime:""},customerJob:{id:"",customerId:"",isWork:"",company:"",companyPhone:"",companyExtension:"",companyProvince:"",companyCity:"",companyArea:"",companyAddress:"",companyType:"",position:"",companyCode:"",createdBy:"",createdTime:"",updateBy:"",updateTime:""},customerContact:{id:"",customerId:"",statementEmail:"",isNeedStatement:"",entrustedRecipient:"",firstMobilePhone:"",secMobilePhone:"",thrMobilePhone:"",tel1:"",tel2:"",tel3:"",statementProvince:"",statementCity:"",statementArea:"",statementAddress:"",statementType:"",postCode:"",createdBy:"",createdTime:"",updateBy:"",updateTime:""},customerCompany:{id:0,customerId:0,legalRepresentative:"",legalRepresentativePhone:"",representativeIdType:"",representativeIdNum:"",actualCarOwner:"",ownerPhone:"",ownerIdType:"",ownerIdNum:"",createdBy:"",createdTime:"",updateBy:"",updateTime:""},customerSpouseInfo:{id:0,customerId:0,spouseName:"",spousePhone:"",spouseIdType:"",spouseIdTypeValue:"",spouseIdNum:"",createdBy:"",createdTime:"",updateBy:"",updateTime:""},customerContactPersonList:[{id:0,contactPersonName:"",contactPersonPhone:"",relation:"",updateBy:"",updateTime:""},{id:0,contactPersonName:"",contactPersonPhone:"",relation:"",updateBy:"",updateTime:""}],idCardAddress:"",liveAddress:"",roomAddress:"",companyAddress:""}},mounted:function(){var e=this;console.log(this.$route.params.customerId),I({customerId:this.$route.params.customerId}).then(function(t){console.log(t),null!=t.data.data.customerInfo&&(e.customerInfo=t.data.data.customerInfo,e.customerInfo.relationValue=ue("1",e.customerInfo.relation),"1"==e.customerInfo.idType&&(e.customerInfo.sex=U(e.customerInfo.idNum).sex,e.customerInfo.age=U(e.customerInfo.idNum).age,e.customerInfo.birthday=U(e.customerInfo.idNum).birthday),e.customerInfo.idTypeValue=ue("2",e.customerInfo.idType),e.customerInfo.isMarryValue=ue("3",e.customerInfo.isMarry),e.customerInfo.occupationTypeValue=ue("4",e.customerInfo.occupationType),e.customerInfo.nationalityValue=ue("5",e.customerInfo.nationality),e.customerInfo.customerNatureValue=ue("6",e.customerInfo.customerNature),e.customerInfo.educationLevelValue=ue("7",e.customerInfo.educationLevel)),null!=t.data.data.customerHouseProperty&&(e.customerHouseProperty=t.data.data.customerHouseProperty,e.customerHouseProperty.liveTypeValue=ue("8",e.customerHouseProperty.liveType),e.customerHouseProperty.roomNatureValue=ue("9",e.customerHouseProperty.roomNature)),null!=t.data.data.customerAssets&&(e.customerAssets=t.data.data.customerAssets),null!=t.data.data.customerJob&&(e.customerJob=t.data.data.customerJob,e.customerJob.companyTypeValue=ue("10",e.customerJob.companyType),e.customerJob.positionValue=ue("11",e.customerJob.position)),null!=t.data.data.customerContact&&(e.customerContact=t.data.data.customerContact),null!=t.data.data.customerCompany&&(e.customerCompany=t.data.data.customerCompany),null!=t.data.data.customerSpouseInfo&&(e.customerSpouseInfo=t.data.data.customerSpouseInfo,e.customerSpouseInfo.spouseIdTypeValue=ue("2",e.customerSpouseInfo.spouseIdType)),null!=t.data.data.customerContactPersonList&&t.data.data.customerContactPersonList.length>0&&(e.customerContactPersonList=t.data.data.customerContactPersonList),e.setAddress()})},methods:{selectWhetherIdAddr:function(e){this.customerHouseProperty.whetherIdAddr=e,"1"==e?(this.customerHouseProperty.liveProvince=this.customerInfo.idCardProvince,this.customerHouseProperty.liveCity=this.customerInfo.idCardCity,this.customerHouseProperty.liveArea=this.customerInfo.idCardArea,this.customerHouseProperty.liveAddress=this.customerInfo.idCardAddress):(this.customerHouseProperty.liveProvince="",this.customerHouseProperty.liveCity="",this.customerHouseProperty.liveArea="",this.customerHouseProperty.liveAddress="")},selected:function(e){switch(this.showPop=!1,this.selectIndex){case 1:this.customerInfo.relation=me(e,this.popList),this.customerInfo.relationValue=e;break;case 2:this.customerInfo.idType=me(e,this.popList),this.customerInfo.idTypeValue=e;break;case 3:this.customerInfo.isMarry=me(e,this.popList),this.customerInfo.isMarryValue=e;break;case 4:this.customerInfo.occupationType=me(e,this.popList),this.customerInfo.occupationTypeValue=e;break;case 5:this.customerInfo.nationality=me(e,this.popList),this.customerInfo.nationalityValue=e;break;case 6:this.customerInfo.customerNature=me(e,this.popList),this.customerInfo.customerNatureValue=e;break;case 7:this.customerInfo.educationLevel=me(e,this.popList),this.customerInfo.educationLevelValue=e;break;case 8:this.customerHouseProperty.liveType=me(e,this.popList),this.customerHouseProperty.liveTypeValue=e;break;case 9:this.customerHouseProperty.roomNature=me(e,this.popList),this.customerHouseProperty.roomNatureValue=e;break;case 10:this.customerJob.companyType=me(e,this.popList),this.customerJob.companyTypeValue=e;break;case 11:this.customerJob.position=me(e,this.popList),this.customerJob.positionValue=e;break;case 12:this.customerSpouseInfo.spouseIdType=me(e,this.popList),this.customerSpouseInfo.spouseIdTypeValue=e}},selectDate:function(e){this.showDatePop=!1,this.customerInfo.certificateEndDate=N(e,"yyyy-MM-dd")},selectedAddress:function(e){switch(this.selectAddressIndex){case 1:console.log("身份证地址:",e),this.idCardAddress=e[0].name+e[1].name+e[2].name,this.customerInfo.idCardProvince=e[0].code,this.customerInfo.idCardCity=e[1].code,this.customerInfo.idCardArea=e[2].code,"1"==this.customerHouseProperty.whetherIdAddr&&(this.customerHouseProperty.liveProvince=this.customerInfo.idCardProvince,this.customerHouseProperty.liveCity=this.customerInfo.idCardCity,this.customerHouseProperty.liveArea=this.customerInfo.idCardArea,this.customerHouseProperty.liveAddress=this.customerInfo.idCardAddress);break;case 2:console.log("居住地地址:",e),this.liveAddress=e[0].name+e[1].name+e[2].name,this.customerHouseProperty.liveProvince=e[0].code,this.customerHouseProperty.liveCity=e[1].code,this.customerHouseProperty.liveArea=e[2].code,console.log("居住地地址:",this.liveAddress);break;case 3:console.log("房产地址:",e),this.roomAddress=e[0].name+e[1].name+e[2].name,this.customerHouseProperty.roomProvince=e[0].code,this.customerHouseProperty.roomCity=e[1].code,this.customerHouseProperty.roomArea=e[2].code;break;case 4:console.log("工作地址:",e),this.companyAddress=e[0].name+e[1].name+e[2].name,this.customerJob.companyProvince=e[0].code,this.customerJob.companyCity=e[1].code,this.customerJob.companyArea=e[2].code}this.showAddressPop=!1},showSelectAddressPop:function(e){this.selectAddressIndex=e,this.showAddressPop=!0},showSelectDatePop:function(e){this.showDatePop=!0},showSelectPop:function(e){switch(e){case 1:this.popList=["本人","夫妻","父母","子女","兄弟姐妹","同事","其他"];break;case 2:this.popList=["身份证","社会统一信用代码"];break;case 3:this.popList=["未婚","已婚","丧偶","离婚"];break;case 4:this.popList=["标准受薪","自雇人士","自由职业"];break;case 5:this.popList=["中华人民共和国"];break;case 6:this.popList=["自然人"];break;case 7:this.popList=["硕士及以上","本科","大专","高中/中专","初中及以下"];break;case 8:this.popList=["自购无按揭","按揭","亲属住房","宅基地房","租房"];break;case 9:this.popList=["自用","出租","空置"];break;case 10:this.popList=["政府机关/事业单位","国企","外资/合资","民营","个体","其他"];break;case 11:this.popList=["高层","中层","基层","一般员工","销售类员工","操作类员工","非正式员工","其他","无"];break;case 12:this.popList=["身份证"]}this.selectIndex=e,this.showPop=!0},toSub:function(){var e=this;if(he(this.customerInfo.customerName)||he(this.customerInfo.customerRole)||he(this.customerInfo.idType)||he(this.customerInfo.idNum)||he(this.customerInfo.sex)||he(this.customerInfo.isMarry)||he(this.customerInfo.birthday)||he(this.customerInfo.age)||he(this.customerInfo.occupationType)||he(this.customerInfo.nationality)||he(this.customerInfo.isLongTerm)||he(this.customerInfo.certificateEndDate)||he(this.customerInfo.certificationAuthority)||he(this.customerInfo.idCardProvince)||he(this.customerInfo.idCardAddress)||he(this.customerInfo.phone)||he(this.customerInfo.isLocal)||he(this.customerInfo.customerNature)||he(this.customerInfo.educationLevel))this.$toast.fail("请将'基本信息'中必填项填写完整");else if(he(this.customerHouseProperty.liveType)||he(this.customerHouseProperty.whetherIdAddr)||he(this.customerHouseProperty.liveProvince)||he(this.customerHouseProperty.liveProvince))this.$toast.fail("请将'居住信息'中必填项填写完整");else if(he(this.customerAssets.familyMonthIncome)||he(this.customerAssets.familyMonthExpenditure)||he(this.customerAssets.firstBuyCar)||he(this.customerAssets.buyCarPurpose))this.$toast.fail("请将'主要财产信息'中必填项填写完整");else if(he(this.customerAssets.familyMonthIncome)||he(this.customerAssets.familyMonthExpenditure)||he(this.customerAssets.firstBuyCar)||he(this.customerAssets.buyCarPurpose))this.$toast.fail("请将'主要财产信息'中必填项填写完整");else if(he(this.customerJob.isWork))this.$toast.fail("请选择是否用工作");else if("1"==this.customerJob.isWork&&(he(this.customerJob.company)||he(this.customerJob.companyPhone)||he(this.customerJob.companyProvince)||he(this.customerJob.companyType)||he(this.customerJob.position)))this.$toast.fail("请将'工作信息'中必填项填写完整");else if(console.log(this.customerInfo.isMarry),"2"==this.customerInfo.isMarry&&(he(this.customerSpouseInfo.spouseName)||he(this.customerSpouseInfo.spousePhone)||he(this.customerSpouseInfo.spouseIdType)||he(this.customerSpouseInfo.spouseIdNum)))this.$toast.fail("请将'配偶信息'中必填项填写完整");else{for(var t in this.customerContactPersonList)if(he(this.customerContactPersonList[t].contactPersonName)||he(this.customerContactPersonList[t].contactPersonPhone)||he(this.customerContactPersonList[t].relation))return void this.$toast.fail("请将'其他联系方式'中必填项填写完整");var o=this.$toast.loading({duration:0,message:"保存中...",forbidClick:!0,loadingType:"spinner"}),s=u()({customerId:this.$route.params.customerId,customerInfoParam:this.customerInfo,customerHousePropertyParam:this.customerHouseProperty,customerAssetsParam:this.customerAssets,customerJobParam:this.customerJob,customerSpouseInfoParam:this.customerSpouseInfoParam,customerContactParam:this.customerContact,customerContactPersonParamList:this.customerContactPersonList});"2"==this.customerInfo.isMarry&&(s.customerSpouseInfoParam=this.customerSpouseInfo),console.log("参数",s),k(s).then(function(t){o.clear(),e.$router.back()})}},setAddress:function(){null!=this.customerInfo.idCardProvince&&(this.idCardAddress=pe({province:this.customerInfo.idCardProvince,city:this.customerInfo.idCardCity,area:this.customerInfo.idCardArea})),null!=this.customerHouseProperty.liveProvince&&(this.liveAddress=pe({province:this.customerHouseProperty.liveProvince,city:this.customerHouseProperty.liveCity,area:this.customerHouseProperty.liveArea})),null!=this.customerHouseProperty.roomProvince&&(this.roomAddress=pe({province:this.customerHouseProperty.roomProvince,city:this.customerHouseProperty.roomCity,area:this.customerHouseProperty.roomArea})),null!=this.customerJob.companyProvince&&(this.companyAddress=pe({province:this.customerJob.companyProvince,city:this.customerJob.companyCity,area:this.customerJob.companyArea}))}}},fe={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{height:"100%","margin-bottom":"60px"}},[o("div",[o("div",[o("div",{staticClass:"header"},[e._v("基本信息")]),e._v(" "),o("van-field",{attrs:{required:"",label:"客户姓名:",placeholder:"请填写客户姓名"},model:{value:e.customerInfo.customerName,callback:function(t){e.$set(e.customerInfo,"customerName",t)},expression:"customerInfo.customerName"}}),e._v(" "),o("van-field",{attrs:{label:"曾用名:",placeholder:"请填写曾用名"},model:{value:e.customerInfo.beforeName,callback:function(t){e.$set(e.customerInfo,"beforeName",t)},expression:"customerInfo.beforeName"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"与承租人关系:",placeholder:"请选择与承租人关系"},on:{click:function(t){return e.showSelectPop(1)}},model:{value:e.customerInfo.relationValue,callback:function(t){e.$set(e.customerInfo,"relationValue",t)},expression:"customerInfo.relationValue"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"证件类型:",placeholder:"请选择证件类型"},on:{click:function(t){return e.showSelectPop(2)}},model:{value:e.customerInfo.idTypeValue,callback:function(t){e.$set(e.customerInfo,"idTypeValue",t)},expression:"customerInfo.idTypeValue"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"证件号码:",placeholder:"请填写证件号码"},model:{value:e.customerInfo.idNum,callback:function(t){e.$set(e.customerInfo,"idNum",t)},expression:"customerInfo.idNum"}}),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("客户性别：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.customerInfo.sex?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.customerInfo.sex="1"}}},[e._v("男")]),e._v(" "),o("div",{class:"2"==e.customerInfo.sex?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.customerInfo.sex="2"}}},[e._v("女")])])]),e._v(" "),e._m(0)]),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"婚姻状况:",placeholder:"请选择婚姻状况"},on:{click:function(t){return e.showSelectPop(3)}},model:{value:e.customerInfo.isMarryValue,callback:function(t){e.$set(e.customerInfo,"isMarryValue",t)},expression:"customerInfo.isMarryValue"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"出生日期:",placeholder:"请选择出生日期"},on:{click:function(t){e.showBirthday=!0}},model:{value:e.customerInfo.birthday,callback:function(t){e.$set(e.customerInfo,"birthday",t)},expression:"customerInfo.birthday"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"年龄:",placeholder:"请填写年龄"},model:{value:e.customerInfo.age,callback:function(t){e.$set(e.customerInfo,"age",t)},expression:"customerInfo.age"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"职业类型:",placeholder:"请选择职业类型"},on:{click:function(t){return e.showSelectPop(4)}},model:{value:e.customerInfo.occupationTypeValue,callback:function(t){e.$set(e.customerInfo,"occupationTypeValue",t)},expression:"customerInfo.occupationTypeValue"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"国籍:",placeholder:"请选择国籍"},on:{click:function(t){return e.showSelectPop(5)}},model:{value:e.customerInfo.nationalityValue,callback:function(t){e.$set(e.customerInfo,"nationalityValue",t)},expression:"customerInfo.nationalityValue"}}),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("身份证是否长期有效：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.customerInfo.isLongTerm?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.customerInfo.isLongTerm="1"}}},[e._v("是")]),e._v(" "),o("div",{class:"2"==e.customerInfo.isLongTerm?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.customerInfo.isLongTerm="2"}}},[e._v("否")])])]),e._v(" "),e._m(1)]),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"证件到期日:",placeholder:"请选择证件到期日"},on:{click:function(t){return e.showSelectDatePop(1)}},model:{value:e.customerInfo.certificateEndDate,callback:function(t){e.$set(e.customerInfo,"certificateEndDate",t)},expression:"customerInfo.certificateEndDate"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"发证机关:",placeholder:"请填写发证机关"},model:{value:e.customerInfo.certificationAuthority,callback:function(t){e.$set(e.customerInfo,"certificationAuthority",t)},expression:"customerInfo.certificationAuthority"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"身份证地址:",placeholder:"请选择身份证地址"},on:{click:function(t){return e.showSelectAddressPop(1)}},model:{value:e.idCardAddress,callback:function(t){e.idCardAddress=t},expression:"idCardAddress"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"详细地址:",placeholder:"请填写详细地址"},model:{value:e.customerInfo.idCardAddress,callback:function(t){e.$set(e.customerInfo,"idCardAddress",t)},expression:"customerInfo.idCardAddress"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"手机号码:",placeholder:"请填写手机号码"},model:{value:e.customerInfo.phone,callback:function(t){e.$set(e.customerInfo,"phone",t)},expression:"customerInfo.phone"}}),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("是否本地户籍：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.customerInfo.isLocal?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.customerInfo.isLocal="1"}}},[e._v("是")]),e._v(" "),o("div",{class:"2"==e.customerInfo.isLocal?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.customerInfo.isLocal="2"}}},[e._v("否")])])]),e._v(" "),e._m(2)]),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"客户类型:",placeholder:"请选择客户类型"},on:{click:function(t){return e.showSelectPop(6)}},model:{value:e.customerInfo.customerNatureValue,callback:function(t){e.$set(e.customerInfo,"customerNatureValue",t)},expression:"customerInfo.customerNatureValue"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"教育程度:",placeholder:"请选择教育程度"},on:{click:function(t){return e.showSelectPop(7)}},model:{value:e.customerInfo.educationLevelValue,callback:function(t){e.$set(e.customerInfo,"educationLevelValue",t)},expression:"customerInfo.educationLevelValue"}}),e._v(" "),o("van-field",{attrs:{autosize:"",label:"备注:",type:"textarea",placeholder:"请输入备注"},model:{value:e.customerInfo.commons,callback:function(t){e.$set(e.customerInfo,"commons",t)},expression:"customerInfo.commons"}})],1),e._v(" "),o("div",[o("div",{staticClass:"header"},[e._v("居住地信息")]),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"居住状况:",placeholder:"请选择居住状况"},on:{click:function(t){return e.showSelectPop(8)}},model:{value:e.customerHouseProperty.liveTypeValue,callback:function(t){e.$set(e.customerHouseProperty,"liveTypeValue",t)},expression:"customerHouseProperty.liveTypeValue"}}),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("现居地与身份证地址相同：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.customerHouseProperty.whetherIdAddr?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){return e.selectWhetherIdAddr("1")}}},[e._v("是")]),e._v(" "),o("div",{class:"2"==e.customerHouseProperty.whetherIdAddr?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){return e.selectWhetherIdAddr("2")}}},[e._v("否")])])]),e._v(" "),e._m(3)]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:"2"==e.customerHouseProperty.whetherIdAddr,expression:"customerHouseProperty.whetherIdAddr == '2'"}]},[o("van-field",{attrs:{"is-link":"",required:"",readonly:"",clickable:"",label:"现居住地地址:",placeholder:"请选择现居住地地址"},on:{click:function(t){return e.showSelectAddressPop(2)}},model:{value:e.liveAddress,callback:function(t){e.liveAddress=t},expression:"liveAddress"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"详细地址:",placeholder:"请填写详细地址"},model:{value:e.customerHouseProperty.liveAddress,callback:function(t){e.$set(e.customerHouseProperty,"liveAddress",t)},expression:"customerHouseProperty.liveAddress"}})],1),e._v(" "),o("van-field",{attrs:{label:"固定电话:",placeholder:"请填写固定电话号码"},model:{value:e.customerHouseProperty.telephone,callback:function(t){e.$set(e.customerHouseProperty,"telephone",t)},expression:"customerHouseProperty.telephone"}})],1),e._v(" "),o("div",[o("div",{staticClass:"header"},[e._v("主要财产信息")]),e._v(" "),o("van-field",{attrs:{required:"",label:"每月家庭净收入(元):",placeholder:"请填写每月家庭净收入"},model:{value:e.customerAssets.familyMonthIncome,callback:function(t){e.$set(e.customerAssets,"familyMonthIncome",t)},expression:"customerAssets.familyMonthIncome"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"月平均支出(元):",placeholder:"请填写月平均支出"},model:{value:e.customerAssets.familyMonthExpenditure,callback:function(t){e.$set(e.customerAssets,"familyMonthExpenditure",t)},expression:"customerAssets.familyMonthExpenditure"}}),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("家庭首次购车：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.customerAssets.firstBuyCar?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.customerAssets.firstBuyCar="1"}}},[e._v("是")]),e._v(" "),o("div",{class:"2"==e.customerAssets.firstBuyCar?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.customerAssets.firstBuyCar="2"}}},[e._v("否")])])]),e._v(" "),e._m(4)]),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("购车目的:")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.customerAssets.buyCarPurpose?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.customerAssets.buyCarPurpose="1"}}},[e._v("自用")]),e._v(" "),o("div",{class:"2"==e.customerAssets.buyCarPurpose?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.customerAssets.buyCarPurpose="2"}}},[e._v("出租")])])]),e._v(" "),e._m(5)]),e._v(" "),o("van-field",{attrs:{label:"社保卡号:",placeholder:"请填写社保卡号"},model:{value:e.customerAssets.socialSecurityNumber,callback:function(t){e.$set(e.customerAssets,"socialSecurityNumber",t)},expression:"customerAssets.socialSecurityNumber"}})],1),e._v(" "),o("div",[o("div",{staticClass:"header"},[e._v("房产信息")]),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title_norequired"},[e._v("房产类别:")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.customerHouseProperty.roomType?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.customerHouseProperty.roomType="1"}}},[e._v("住房")]),e._v(" "),o("div",{class:"2"==e.customerHouseProperty.roomType?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.customerHouseProperty.roomType="2"}}},[e._v("商用房")])])]),e._v(" "),e._m(6)]),e._v(" "),o("van-field",{attrs:{"is-link":"",readonly:"",clickable:"",label:"房产性质:",placeholder:"请选择房产性质"},on:{click:function(t){return e.showSelectPop(9)}},model:{value:e.customerHouseProperty.roomNatureValue,callback:function(t){e.$set(e.customerHouseProperty,"roomNatureValue",t)},expression:"customerHouseProperty.roomNatureValue"}}),e._v(" "),o("van-field",{attrs:{"is-link":"",readonly:"",clickable:"",label:"房产地址:",placeholder:"请选择房产地址"},on:{click:function(t){return e.showSelectAddressPop(3)}},model:{value:e.roomAddress,callback:function(t){e.roomAddress=t},expression:"roomAddress"}}),e._v(" "),o("van-field",{attrs:{label:"详细地址:",placeholder:"请填写详细地址"},model:{value:e.customerHouseProperty.roomAddress,callback:function(t){e.$set(e.customerHouseProperty,"roomAddress",t)},expression:"customerHouseProperty.roomAddress"}}),e._v(" "),o("van-field",{attrs:{label:"面积(m²):",placeholder:"请填写房产面积"},model:{value:e.customerHouseProperty.roomAreas,callback:function(t){e.$set(e.customerHouseProperty,"roomAreas",t)},expression:"customerHouseProperty.roomAreas"}}),e._v(" "),o("van-field",{attrs:{label:"房产编号:",placeholder:"请填写房产编号"},model:{value:e.customerHouseProperty.roomNum,callback:function(t){e.$set(e.customerHouseProperty,"roomNum",t)},expression:"customerHouseProperty.roomNum"}})],1),e._v(" "),o("div",[o("div",{staticClass:"header"},[e._v("工作信息")]),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("是否有工作：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.customerJob.isWork?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.customerJob.isWork="1"}}},[e._v("有")]),e._v(" "),o("div",{class:"2"==e.customerJob.isWork?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.customerJob.isWork="2"}}},[e._v("无")])])]),e._v(" "),e._m(7)]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:1==e.customerJob.isWork,expression:"customerJob.isWork == 1"}]},[o("van-field",{attrs:{required:"",label:"工作单位:",placeholder:"请填写工作单位"},model:{value:e.customerJob.company,callback:function(t){e.$set(e.customerJob,"company",t)},expression:"customerJob.company"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"单位电话:",placeholder:"请填写单位电话"},model:{value:e.customerJob.companyPhone,callback:function(t){e.$set(e.customerJob,"companyPhone",t)},expression:"customerJob.companyPhone"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"分机号:",placeholder:"请填写分机号"},model:{value:e.customerJob.companyExtension,callback:function(t){e.$set(e.customerJob,"companyExtension",t)},expression:"customerJob.companyExtension"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"单位地址:",placeholder:"请选择单位地址"},on:{click:function(t){return e.showSelectAddressPop(4)}},model:{value:e.companyAddress,callback:function(t){e.companyAddress=t},expression:"companyAddress"}}),e._v(" "),o("van-field",{attrs:{label:"详细地址:",placeholder:"请填写详细地址"},model:{value:e.customerJob.companyAddress,callback:function(t){e.$set(e.customerJob,"companyAddress",t)},expression:"customerJob.companyAddress"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"单位性质:",placeholder:"请选择单位性质"},on:{click:function(t){return e.showSelectPop(10)}},model:{value:e.customerJob.companyTypeValue,callback:function(t){e.$set(e.customerJob,"companyTypeValue",t)},expression:"customerJob.companyTypeValue"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"职务:",placeholder:"请选择职务"},on:{click:function(t){return e.showSelectPop(11)}},model:{value:e.customerJob.positionValue,callback:function(t){e.$set(e.customerJob,"positionValue",t)},expression:"customerJob.positionValue"}})],1)]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:"2"==this.customerInfo.isMarry,expression:"this.customerInfo.isMarry == '2'"}]},[o("div",{staticClass:"header"},[e._v("配偶信息")]),e._v(" "),o("van-field",{attrs:{required:"",label:"姓名:",placeholder:"请填写配偶姓名"},model:{value:e.customerSpouseInfo.spouseName,callback:function(t){e.$set(e.customerSpouseInfo,"spouseName",t)},expression:"customerSpouseInfo.spouseName"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"手机号:",placeholder:"请填写配偶手机号"},model:{value:e.customerSpouseInfo.spousePhone,callback:function(t){e.$set(e.customerSpouseInfo,"spousePhone",t)},expression:"customerSpouseInfo.spousePhone"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"证件类型:",placeholder:"请选择配偶证件类型"},on:{click:function(t){return e.showSelectPop(12)}},model:{value:e.customerSpouseInfo.spouseIdTypeValue,callback:function(t){e.$set(e.customerSpouseInfo,"spouseIdTypeValue",t)},expression:"customerSpouseInfo.spouseIdTypeValue"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"证件号码:",placeholder:"请填写配偶证件号码"},model:{value:e.customerSpouseInfo.spouseIdNum,callback:function(t){e.$set(e.customerSpouseInfo,"spouseIdNum",t)},expression:"customerSpouseInfo.spouseIdNum"}})],1),e._v(" "),o("div",[o("div",{staticClass:"header"},[e._v("其他联系方式")]),e._v(" "),o("van-field",{attrs:{required:"",label:"邮箱(对账单邮箱地址):",placeholder:"请填写邮箱"},model:{value:e.customerContact.statementEmail,callback:function(t){e.$set(e.customerContact,"statementEmail",t)},expression:"customerContact.statementEmail"}}),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title_norequired"},[e._v("是否需要对账单：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.customerContact.isNeedStatement?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.customerContact.isNeedStatement="1"}}},[e._v("是")]),e._v(" "),o("div",{class:"2"==e.customerContact.isNeedStatement?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.customerContact.isNeedStatement="2"}}},[e._v("否")])])]),e._v(" "),e._m(8)]),e._v(" "),o("van-field",{directives:[{name:"show",rawName:"v-show",value:1==e.customerContact.isNeedStatement,expression:"customerContact.isNeedStatement == 1"}],attrs:{label:"委托收件人:",placeholder:"请填写委托收件人"},model:{value:e.customerContact.entrustedRecipient,callback:function(t){e.$set(e.customerContact,"entrustedRecipient",t)},expression:"customerContact.entrustedRecipient"}}),e._v(" "),o("van-field",{attrs:{label:"手机一:",placeholder:"请填写手机号"},model:{value:e.customerContact.firstMobilePhone,callback:function(t){e.$set(e.customerContact,"firstMobilePhone",t)},expression:"customerContact.firstMobilePhone"}}),e._v(" "),o("van-field",{attrs:{label:"手机二:",placeholder:"请填写手机号"},model:{value:e.customerContact.secMobilePhone,callback:function(t){e.$set(e.customerContact,"secMobilePhone",t)},expression:"customerContact.secMobilePhone"}}),e._v(" "),o("van-field",{attrs:{label:"固话一:",placeholder:"请填写固话"},model:{value:e.customerContact.tel1,callback:function(t){e.$set(e.customerContact,"tel1",t)},expression:"customerContact.tel1"}}),e._v(" "),o("van-field",{attrs:{label:"固话二:",placeholder:"请填写固话"},model:{value:e.customerContact.tel2,callback:function(t){e.$set(e.customerContact,"tel2",t)},expression:"customerContact.tel2"}})],1),e._v(" "),o("div",[o("div",{staticClass:"header"},[e._v("其他联系方式")]),e._v(" "),e._l(e.customerContactPersonList,function(t,s){return o("div",{key:s},[o("van-field",{attrs:{required:"",label:"联系人姓名:",placeholder:"请填写联系人姓名"},model:{value:t.contactPersonName,callback:function(o){e.$set(t,"contactPersonName",o)},expression:"item.contactPersonName"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"联系人手机号:",placeholder:"请填写联系人手机号"},model:{value:t.contactPersonPhone,callback:function(o){e.$set(t,"contactPersonPhone",o)},expression:"item.contactPersonPhone"}}),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("与承租人关系：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==t.relation?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(e){t.relation="1"}}},[e._v("亲属")]),e._v(" "),o("div",{class:"2"==t.relation?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(e){t.relation="2"}}},[e._v("朋友")])])]),e._v(" "),e._m(9,!0)])],1)})],2)]),e._v(" "),o("div",{staticClass:"subBtn"},[o("van-button",{staticClass:"subBtn_body",attrs:{block:"",type:"info"},on:{click:e.toSub}},[e._v("保 存")])],1),e._v(" "),o("div",[o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[o("van-picker",{attrs:{title:"请选择选择","show-toolbar":"",columns:e.popList},on:{confirm:e.selected,cancel:function(t){e.showPop=!1}}})],1),e._v(" "),o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showDatePop,callback:function(t){e.showDatePop=t},expression:"showDatePop"}},[o("van-datetime-picker",{attrs:{type:"date","min-date":e.minDate},on:{confirm:e.selectDate,cancel:function(t){e.showDatePop=!1}}})],1),e._v(" "),o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showAddressPop,callback:function(t){e.showAddressPop=t},expression:"showAddressPop"}},[o("van-area",{attrs:{title:"选择地址","area-list":e.addressList,"columns-placeholder":["请选择","请选择","请选择"]},on:{confirm:e.selectedAddress,cancel:function(t){e.showAddressPop=!1}}})],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"padding-left":"10px"}},[t("div",{staticClass:"zlhjRadioLine"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"padding-left":"10px"}},[t("div",{staticClass:"zlhjRadioLine"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"padding-left":"10px"}},[t("div",{staticClass:"zlhjRadioLine"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"padding-left":"10px"}},[t("div",{staticClass:"zlhjRadioLine"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"padding-left":"10px"}},[t("div",{staticClass:"zlhjRadioLine"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"padding-left":"10px"}},[t("div",{staticClass:"zlhjRadioLine"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"padding-left":"10px"}},[t("div",{staticClass:"zlhjRadioLine"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"padding-left":"10px"}},[t("div",{staticClass:"zlhjRadioLine"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"padding-left":"10px"}},[t("div",{staticClass:"zlhjRadioLine"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"padding-left":"10px"}},[t("div",{staticClass:"zlhjRadioLine"})])}]};var ye=o("VU/8")(ve,fe,!1,function(e){o("KxGz")},"data-v-508db41a",null).exports,be={data:function(){return{customerInfo:{customerId:"",customerName:"",beforeName:"",loanNumber:"",customerRole:"",customerType:"",relation:"",relationValue:"",sex:"",idType:"",idNum:"",isMarry:"",isMarryValue:"",birthday:"",age:"",occupationType:"",nationality:"",isLongTerm:"",certificateEndDate:"",certificationAuthority:"",idCardProvince:"",idCardCity:"",idCardArea:"",idCardAddress:"",phone:"",isLocal:"",customerNature:"",customerNatureValue:"",educationLevel:"",highestEducation:"",creditFlag:"",blacklistFlag:"",commons:"",saveFlag:"",createdBy:"",createdTime:"",updateBy:"",updateTime:""},customerCompany:{id:0,customerId:0,legalRepresentative:"",legalRepresentativePhone:"",representativeIdType:"",representativeIdTypeValue:"",representativeIdNum:"",actualCarOwner:"",ownerPhone:"",ownerIdType:"",ownerIdTypeValue:"",ownerIdNum:"",createdBy:"",createdTime:"",updateBy:"",updateTime:""},customerHouseProperty:{id:"",customerId:"",liveType:"",whetherIdAddr:"",liveProvince:"",liveCity:"",liveArea:"",liveAddress:"",telephone:"",roomType:"",roomNature:"",roomProvince:"",roomCity:"",roomArea:"",roomAddress:"",roomAreas:"",roomNum:"",createdBy:"",createdTime:"",updateBy:"",updateTime:""},idCardAddress:"",liveAddress:"",selectIndex:0,showPop:!1,showAddressPop:!1,popList:[],selectAddressIndex:0,addressList:this.$store.state.address}},mounted:function(){var e=this;I({customerId:this.$route.params.customerId}).then(function(t){null!=t.data.data.customerInfo&&(e.customerInfo=t.data.data.customerInfo,e.customerInfo.relationValue=ue("13",e.customerInfo.relation),e.customerInfo.idTypeValue=ue("2",e.customerInfo.idType),e.customerInfo.isMarryValue=ue("3",e.customerInfo.isMarry),e.customerInfo.customerNatureValue=ue("10",e.customerInfo.customerNature)),null!=t.data.data.customerCompany&&(e.customerCompany=t.data.data.customerCompany,e.customerCompany.representativeIdTypeValue="身份证",e.customerCompany.representativeId="1",e.customerCompany.ownerIdTypeValue="身份证",e.customerCompany.ownerIdType="1"),null!=t.data.data.customerHouseProperty&&(e.customerHouseProperty=t.data.data.customerHouseProperty),e.setAddress(),console.log(t)})},methods:{toSub:function(){var e=this;if(he(this.customerInfo.customerName)||he(this.customerInfo.customerRole)||he(this.customerInfo.idType)||he(this.customerInfo.idNum)||he(this.customerInfo.idCardProvince)||he(this.customerInfo.idCardAddress)||he(this.customerInfo.phone)||he(this.customerHouseProperty.liveProvince)||he(this.customerInfo.customerNature))this.$toast.fail("请将'基本信息'中必填项填写完整");else if(he(this.customerCompany.legalRepresentative)||he(this.customerCompany.legalRepresentativePhone)||he(this.customerCompany.representativeIdType)||he(this.customerCompany.representativeIdNum)||he(this.customerCompany.actualCarOwner)||he(this.customerCompany.ownerPhone)||he(this.customerCompany.ownerIdType)||he(this.customerCompany.ownerIdNum))this.$toast.fail("请将'企业人员信息'中必填项填写完整");else{var t=this.$toast.loading({duration:0,message:"保存中...",forbidClick:!0,loadingType:"spinner"}),o=u()({customerId:this.$route.params.customerId,customerInfoParam:this.customerInfo,customerHousePropertyParam:this.customerHouseProperty,customerCompanyParam:this.customerCompany});"2"==this.customerInfo.isMarry&&(o.customerSpouseInfoParam=this.customerSpouseInfo),console.log("参数",o),k(o).then(function(o){t.clear(),e.$router.back()})}},showSelectPop:function(e){switch(e){case 1:this.popList=["法人","实际使用人","股东","高管","其他"];break;case 2:this.popList=["社会统一信用代码"];break;case 3:this.popList=["政府机关/事业单位","国企","外资/合资","民营","个体","其他"];break;case 4:case 5:this.popList=["身份证"]}this.selectIndex=e,this.showPop=!0},selected:function(e){switch(this.showPop=!1,console.log(e),this.selectIndex){case 1:this.customerInfo.relation=me(e,this.popList),this.customerInfo.relationValue=e;break;case 2:this.customerInfo.idType="2",this.customerInfo.idTypeValue="社会统一信用代码";break;case 3:this.customerInfo.customerNature=me(e,this.popList),this.customerInfo.customerNatureValue=e;break;case 4:this.customerCompany.representativeIdType="1",this.customerCompany.representativeIdTypeValue="身份证";break;case 5:this.customerCompany.ownerIdType="1",this.customerCompany.ownerIdTypeValue="身份证"}},selectedAddress:function(e){switch(this.selectAddressIndex){case 1:console.log("身份证地址:",e),this.idCardAddress=e[0].name+e[1].name+e[2].name,this.customerInfo.idCardProvince=e[0].code,this.customerInfo.idCardCity=e[1].code,this.customerInfo.idCardArea=e[2].code;break;case 2:console.log("经营地地址:",e),this.liveAddress=e[0].name+e[1].name+e[2].name,this.customerHouseProperty.liveProvince=e[0].code,this.customerHouseProperty.liveCity=e[1].code,this.customerHouseProperty.liveArea=e[2].code}this.showAddressPop=!1},showSelectAddressPop:function(e){this.selectAddressIndex=e,this.showAddressPop=!0},setAddress:function(){null!=this.customerInfo.idCardProvince&&(this.idCardAddress=pe({province:this.customerInfo.idCardProvince,city:this.customerInfo.idCardCity,area:this.customerInfo.idCardArea})),null!=this.customerHouseProperty.liveProvince&&(this.liveAddress=pe({province:this.customerHouseProperty.liveProvince,city:this.customerHouseProperty.liveCity,area:this.customerHouseProperty.liveArea}))}}},_e={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{height:"100%","margin-bottom":"60px"}},[o("div",[o("div",[o("div",{staticClass:"header"},[e._v("基本信息")]),e._v(" "),o("van-field",{attrs:{required:"",label:"申请企业名称:",placeholder:"请填写企业名称"},model:{value:e.customerInfo.customerName,callback:function(t){e.$set(e.customerInfo,"customerName",t)},expression:"customerInfo.customerName"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"与承租人关系:",placeholder:"请选择与承租人关系"},on:{click:function(t){return e.showSelectPop(1)}},model:{value:e.customerInfo.relationValue,callback:function(t){e.$set(e.customerInfo,"relationValue",t)},expression:"customerInfo.relationValue"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"证件类型:",placeholder:"请选择证件类型"},on:{click:function(t){return e.showSelectPop(2)}},model:{value:e.customerInfo.idTypeValue,callback:function(t){e.$set(e.customerInfo,"idTypeValue",t)},expression:"customerInfo.idTypeValue"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"证件号码:",placeholder:"请填写证件号码"},model:{value:e.customerInfo.idNum,callback:function(t){e.$set(e.customerInfo,"idNum",t)},expression:"customerInfo.idNum"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"营业执照地址:",placeholder:"请选择营业执照地址"},on:{click:function(t){return e.showSelectAddressPop(1)}},model:{value:e.idCardAddress,callback:function(t){e.idCardAddress=t},expression:"idCardAddress"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"详细地址:",placeholder:"请填写详细地址"},model:{value:e.customerInfo.idCardAddress,callback:function(t){e.$set(e.customerInfo,"idCardAddress",t)},expression:"customerInfo.idCardAddress"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"经营地址:",placeholder:"请选择经营地址"},on:{click:function(t){return e.showSelectAddressPop(2)}},model:{value:e.liveAddress,callback:function(t){e.liveAddress=t},expression:"liveAddress"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"详细地址:",placeholder:"请填写详细地址"},model:{value:e.customerHouseProperty.liveAddress,callback:function(t){e.$set(e.customerHouseProperty,"liveAddress",t)},expression:"customerHouseProperty.liveAddress"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"企业性质:",placeholder:"请选择企业性质"},on:{click:function(t){return e.showSelectPop(3)}},model:{value:e.customerInfo.customerNatureValue,callback:function(t){e.$set(e.customerInfo,"customerNatureValue",t)},expression:"customerInfo.customerNatureValue"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"企业联系电话:",placeholder:"请填写企业联系电话"},model:{value:e.customerInfo.phone,callback:function(t){e.$set(e.customerInfo,"phone",t)},expression:"customerInfo.phone"}})],1),e._v(" "),o("div",[o("div",{staticClass:"header"},[e._v("企业人员信息")]),e._v(" "),o("van-field",{attrs:{required:"",label:"法定代表人:",placeholder:"请填写法定代表人"},model:{value:e.customerCompany.legalRepresentative,callback:function(t){e.$set(e.customerCompany,"legalRepresentative",t)},expression:"customerCompany.legalRepresentative"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"联系方式:",placeholder:"请填写联系方式"},model:{value:e.customerCompany.legalRepresentativePhone,callback:function(t){e.$set(e.customerCompany,"legalRepresentativePhone",t)},expression:"customerCompany.legalRepresentativePhone"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"证件类型:",placeholder:"请选择证件类型"},on:{click:function(t){return e.showSelectPop(4)}},model:{value:e.customerCompany.representativeIdTypeValue,callback:function(t){e.$set(e.customerCompany,"representativeIdTypeValue",t)},expression:"customerCompany.representativeIdTypeValue"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"证件号码:",placeholder:"请填写证件号码"},model:{value:e.customerCompany.representativeIdNum,callback:function(t){e.$set(e.customerCompany,"representativeIdNum",t)},expression:"customerCompany.representativeIdNum"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"实际用车人:",placeholder:"请填写实际用车人"},model:{value:e.customerCompany.actualCarOwner,callback:function(t){e.$set(e.customerCompany,"actualCarOwner",t)},expression:"customerCompany.actualCarOwner"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"联系方式:",placeholder:"请填写联系方式"},model:{value:e.customerCompany.ownerPhone,callback:function(t){e.$set(e.customerCompany,"ownerPhone",t)},expression:"customerCompany.ownerPhone"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"证件类型:",placeholder:"请选择证件类型"},on:{click:function(t){return e.showSelectPop(5)}},model:{value:e.customerCompany.ownerIdTypeValue,callback:function(t){e.$set(e.customerCompany,"ownerIdTypeValue",t)},expression:"customerCompany.ownerIdTypeValue"}}),e._v(" "),o("van-field",{attrs:{required:"",label:"证件号码:",placeholder:"请填写证件号码"},model:{value:e.customerCompany.ownerIdNum,callback:function(t){e.$set(e.customerCompany,"ownerIdNum",t)},expression:"customerCompany.ownerIdNum"}})],1)]),e._v(" "),o("div",{staticClass:"subBtn"},[o("van-button",{staticClass:"subBtn_body",attrs:{block:"",type:"info"},on:{click:e.toSub}},[e._v("保 存")])],1),e._v(" "),o("div",[o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showPop,callback:function(t){e.showPop=t},expression:"showPop"}},[o("van-picker",{attrs:{title:"请选择选择","show-toolbar":"",columns:e.popList},on:{confirm:e.selected,cancel:function(t){e.showPop=!1}}})],1),e._v(" "),o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showAddressPop,callback:function(t){e.showAddressPop=t},expression:"showAddressPop"}},[o("van-area",{attrs:{title:"选择地址","area-list":e.addressList,"columns-placeholder":["请选择","请选择","请选择"]},on:{confirm:e.selectedAddress,cancel:function(t){e.showAddressPop=!1}}})],1)],1)])},staticRenderFns:[]};var ge=o("VU/8")(be,_e,!1,function(e){o("OEdL")},null,null).exports,Ie={data:function(){return{showProductAdditionalInfo:["1"],zfList:[],fcList:[],accountList:[],account:[],TXPlan:[],TXPlanList:[],showZF:!1,showTXPlan:!1,showAccount:!1,zfType:"受托",productDetailInfo:{expenseList:[],executeRate:0,expenseTotalAmount:0,packFlag:""},accountInfo:{id:0,fcId:0,bankId:0,bankName:"",subbranchId:0,subbranchName:"",provinceId:"",cityId:"",accountNumber:"",accountName:"",state:""},TXPlanDetail:{id:0,productId:0,name:"",manufacturerFlag:"",manufacturerModel:"",manufacturerAmount:0,manufacturerRate:0,dealerFlag:"",dealerModel:"",dealerAmount:0,dealerRate:0,state:""},loanInfo:{loanNumber:"",businessModel:"",leaseType:"",hasGps:"",isCs:"",isJjk:"",totalAmount:0,downPaymentAmount:0,amount:0,term:0,repaymentMethod:"",useMethod:"",rate:0,downPaymentRate:0,netAmount:0,repaymentCycleType:"",repaymentCycleTypeValue:"按月",monthRent:0,gpsAmount:0,carAmount:0,productName:"",productId:0,packFlag:"",fcId:0,fcName:"",executeRate:0,capitalCost:0,pdiId:0,manufacturerAmount:0,dealerAmount:0,fcaId:0,paymentMethod:"",isSign:""}}},watch:{"$store.state.productItem":{deep:!1,handler:function(e,t){console.log(e,t),this.loanInfo.productName=e.name,this.loanInfo.productId=e.id,this.getProductDetail(this.loanInfo.productId,!0)}}},methods:{reimbursementPlan:function(){this.$router.push({name:"reimbursementPlan",params:{amount:this.loanInfo.amount,term:this.loanInfo.term,rate:this.loanInfo.executeRate,repaymentMethod:this.loanInfo.repaymentMethod}})},toSelectProduct:function(){this.loanInfo.fcId?this.$router.push({name:"productList",params:{financingChannelId:this.loanInfo.fcId}}):this.$toast.fail("请选择资方")},toSub:function(){var e=this;if(null!=this.loanInfo.fcId&&0!=this.loanInfo.fcId)if(null!=this.loanInfo.productId&&0!=this.loanInfo.productId)if(isEmpty(this.loanInfo.isSign))this.$toast.fail("请选择是否签署《新信息确认书》");else if(isEmpty(this.loanInfo.isSign))this.$toast.fail("请选择是否签署《新信息确认书》");else if(null!=this.loanInfo.downPaymentAmount&&0!=this.loanInfo.downPaymentAmount)if(null!=this.loanInfo.fcaId&&0!=this.loanInfo.fcaId){var t=this.$toast.loading({duration:0,message:"保存中...",forbidClick:!0,loadingType:"spinner"});(function(e){return g({method:"post",url:"/api/loan/loanDetail/update",data:e})})({loanNumber:this.$store.state.loanNumber,downPaymentAmount:this.loanInfo.downPaymentAmount,repaymentCycleType:this.loanInfo.repaymentCycleType,productId:this.loanInfo.productId,fcId:this.loanInfo.fcId,fcName:this.loanInfo.fcName,pdiId:this.loanInfo.pdiId,manufacturerAmount:this.loanInfo.manufacturerAmount,dealerAmount:this.loanInfo.dealerAmount,fcaId:this.loanInfo.fcaId,paymentMethod:this.loanInfo.paymentMethod,isSign:this.loanInfo.isSign}).then(function(o){t.clear(),e.$router.back()})}else this.$toast.fail("请选择付款账号");else this.$toast.fail("请填写首付金额");else this.$toast.fail("请选择产品");else this.$toast.fail("请选择资方")},expenseType:function(e){var t="";switch(parseInt(e)){case 10:t+="保证金";break;case 20:t+="服务费(意外险)";break;case 21:t+="服务费2";break;case 22:t+="服务费";break;case 30:t+="GPS固定成本";break;case 40:t+="信息服务费";break;case 90:t+="其他费用"}return t},selectTXPlan:function(e){var t=0;for(var o in this.TXPlan)if(this.TXPlan[o].name==e){t=this.TXPlan[o].id;break}this.showTXPlan=!1,this.getTXPlanDetail(t)},getTXPlanDetail:function(e){var t,o=this;(t={id:e},g({method:"get",url:"/api/productDiscountInterest/info/"+t.id,data:t})).then(function(e){console.log("贴息详情",e),o.TXPlanDetail=e.data.data;var t=o.loanInfo.amount;"1"==o.TXPlanDetail.manufacturerFlag?"1"==o.TXPlanDetail.manufacturerModel?o.loanInfo.manufacturerAmount=o.TXPlanDetail.manufacturerAmount:o.loanInfo.manufacturerAmount=(o.TXPlanDetail.manufacturerRate*t/100).toFixed(2):o.loanInfo.manufacturerAmount=0,1==o.TXPlanDetail.dealerFlag?"1"==o.TXPlanDetail.dealerModel?o.loanInfo.dealerAmount=o.TXPlanDetail.dealerAmount:o.loanInfo.dealerAmount=(o.TXPlanDetail.dealerRate*t/100).toFixed(2):o.loanInfo.dealerAmount=0,o.loanInfo.pdiId=e.data.data.id})},selectZF:function(e){for(var t in this.fcList)if(this.fcList[t].name==e){this.loanInfo.fcId=this.fcList[t].id,this.loanInfo.fcName=e;break}this.accountInfo={},this.getFinancingChannelAccountList(),this.showZF=!1},selectAccount:function(e){for(var t in this.account)if(this.account[t].accountNumber==val){this.loanInfo.fcId=this.fcList[account].accountNumber,this.loanInfo.fcName=val;break}},getLoanDetailAndRepaymentPlan:function(){var e,t=this;(e={loanNumber:this.$store.state.loanNumber},g({method:"get",url:"/api/loan/loanDetailAndRepaymentPlan/info/"+e.loanNumber,data:e})).then(function(e){console.log(e),t.loanInfo=e.data.data,t.loanInfo.repaymentCycleType="1",t.loanInfo.repaymentCycleTypeValue="按月",t.loanInfo.productId&&(t.getProductDetail(t.loanInfo.productId,!1),t.getProductDiscountInterest()),t.loanInfo.pdiId&&t.getTXPlanDetail(t.loanInfo.pdiId),t.loanInfo.fcId&&t.getFinancingChannelAccountList(),t.loanInfo.fcaId&&t.getFinancingChannelAccountDetail(t.loanInfo.fcaId)})},getProductDiscountInterest:function(){var e,t=this;(e={productId:this.loanInfo.productId},g({method:"get",url:"/api/productDiscountInterest/getList/"+e.productId,data:e})).then(function(e){for(var o in console.log("贴息方案：",e),t.TXPlan=e.data.data,t.TXPlanList=[],t.TXPlan)t.TXPlanList.push(t.TXPlan[o].name)})},getProductDetail:function(e,t){var o=this;(function(e){return g({method:"post",url:"/api/loan/product/getDetailInfo",data:e})})({productId:e,amount:this.loanInfo.amount,loanNumber:this.$store.state.loanNumber}).then(function(e){console.log("产品详情：",e),o.productDetailInfo=e.data.data,t&&(o.loanInfo.pdiId=0,o.loanInfo.manufacturerAmount=0,o.loanInfo.dealerAmount=0,o.loanInfo.executeRate=o.productDetailInfo.executeRate,o.loanInfo.packFlag=o.productDetailInfo.packFlag,o.getProductDiscountInterest(),o.getCalculationFinancingAmount())})},getFinancingChannelList:function(){var e,t=this;g({method:"get",url:"/api/financingChannel/getList",data:e}).then(function(e){for(var o in console.log("资方列表：",e),t.fcList=e.data.data,t.fcList)t.zfList.push(t.fcList[o].name)})},getFinancingChannelAccountList:function(){var e,t=this;0!=this.loanInfo.fcId&&null!=this.loanInfo.fcId?(e={financingChannelId:this.loanInfo.fcId},g({method:"get",url:"/api/financingChannelAccount/getList/"+e.financingChannelId,data:e})).then(function(e){for(var o in t.accountList=[],console.log("付款账户列表：",e),t.account=e.data.data,t.account)t.accountList.push(t.fcList[o].name)}):this.$toast.fail("请先选择资方")},getFinancingChannelAccountDetail:function(e){var t,o=this;(t={id:e},g({method:"get",url:"/api/financingChannelAccount/info/"+t.id,data:t})).then(function(e){console.log("账号详情",e),o.accountInfo=e.data.data})},getCalculationFinancingAmount:function(){var e=this;(function(e){return g({method:"post",url:"/api/loan/loanDetail/calculationFinancingAmount",data:e})})({productId:this.loanInfo.productId,downPaymentAmount:this.loanInfo.downPaymentAmount,loanNumber:this.$store.state.loanNumber}).then(function(t){console.log("计算金额：",t),e.loanInfo.amount=t.data.data.amount,e.loanInfo.downPaymentRate=t.data.data.downPaymentRate,e.loanInfo.netAmount=t.data.data.netAmount,e.loanInfo.monthRent=t.data.data.monthRent})}},mounted:function(){this.getLoanDetailAndRepaymentPlan(),this.getFinancingChannelList()},beforeRouteLeave:function(e,t,o){t.meta.keepAlive=!1,o()}},ke={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{height:"100%","margin-bottom":"60px"}},[o("div",[o("div",[o("div",{staticClass:"header"},[e._v("资方信息")]),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"选择资方:",placeholder:"请选择资方"},on:{click:function(t){e.showZF=!0}},model:{value:e.loanInfo.fcName,callback:function(t){e.$set(e.loanInfo,"fcName",t)},expression:"loanInfo.fcName"}})],1),e._v(" "),o("div",[o("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[o("div",{staticClass:"header"},[e._v("产品信息")]),e._v(" "),o("div",{staticStyle:{color:"#ffffff",height:"30px","background-color":"#ff9900",padding:"0 10px","margin-right":"10px","margin-top":"10px","line-height":"30px"},on:{click:e.reimbursementPlan}},[e._v("还款计划表")])]),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"产品:",placeholder:"请选择产品"},on:{click:e.toSelectProduct},model:{value:e.loanInfo.productName,callback:function(t){e.$set(e.loanInfo,"productName",t)},expression:"loanInfo.productName"}}),e._v(" "),o("van-collapse",{model:{value:e.showProductAdditionalInfo,callback:function(t){e.showProductAdditionalInfo=t},expression:"showProductAdditionalInfo"}},[o("van-collapse-item",{attrs:{title:"产品附加费用项:",name:"1"}},[o("div",{staticClass:"ProductAdditionalBody"},[o("div",{staticClass:"ProductAdditionalitem van-hairline--surround"},[o("div",{staticClass:"ProductAdditionalitem_left van-hairline--right"},[e._v("产品附加费用")]),e._v(" "),o("div",{staticClass:"ProductAdditionalitem_right"},[e._v("金额（元）")])])]),e._v(" "),e._l(e.productDetailInfo.expenseList,function(t,s){return o("div",{key:s,staticClass:"ProductAdditionalBody"},[o("div",{staticClass:"ProductAdditionalitem"},[o("div",{staticClass:"ProductAdditionalitem_left van-hairline--right"},[e._v(e._s(e.expenseType(t.expenseType)))]),e._v(" "),o("div",{staticClass:"ProductAdditionalitem_right"},[e._v(e._s(t.expense))])])])})],2)],1),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"贴息方案:",placeholder:"请选择贴息方案"},on:{click:function(t){e.showTXPlan=!0}},model:{value:e.TXPlanDetail.name,callback:function(t){e.$set(e.TXPlanDetail,"name",t)},expression:"TXPlanDetail.name"}}),e._v(" "),o("van-field",{attrs:{clickable:"",label:"厂商贴息(元):",placeholder:"请填写厂商贴息"},model:{value:e.loanInfo.manufacturerAmount,callback:function(t){e.$set(e.loanInfo,"manufacturerAmount",t)},expression:"loanInfo.manufacturerAmount"}}),e._v(" "),o("van-field",{attrs:{clickable:"",label:"经销商贴息(元):",placeholder:"请填写经销商贴息"},model:{value:e.loanInfo.dealerAmount,callback:function(t){e.$set(e.loanInfo,"dealerAmount",t)},expression:"loanInfo.dealerAmount"}}),e._v(" "),o("div",[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("签署《新信息确认书》：")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.loanInfo.isSign?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loanInfo.isSign="1"}}},[e._v("是")]),e._v(" "),o("div",{class:"2"==e.loanInfo.isSign?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loanInfo.isSign="2"}}},[e._v("否")])])]),e._v(" "),e._m(0)]),e._v(" "),o("div",{staticClass:"readOnly"},[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("是否打包:")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.loanInfo.packFlag?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loanInfo.packFlag="1"}}},[e._v("是")]),e._v(" "),o("div",{class:"2"==e.loanInfo.packFlag?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loanInfo.packFlag="2"}}},[e._v("否")])])]),e._v(" "),e._m(1)]),e._v(" "),o("div",{staticClass:"readOnly"},[o("div",{staticClass:"zlhjRadio",staticStyle:{display:"flex"}},[o("span",{staticClass:"zlhjRadio_title"},[e._v("是否需要安装GPS:")]),e._v(" "),o("div",{staticClass:"zlhjRadio_body"},[o("div",{class:"1"==e.loanInfo.hasGps?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loanInfo.hasGps="1"}}},[e._v("是")]),e._v(" "),o("div",{class:"2"==e.loanInfo.hasGps?"zlhjRadio_body_item_selected":"zlhjRadio_body_item",on:{click:function(t){e.loanInfo.hasGps="2"}}},[e._v("否")])])]),e._v(" "),e._m(2)]),e._v(" "),o("van-field",{staticClass:"readOnly",attrs:{required:"",clickable:"",label:"项目总额(元):"},model:{value:e.loanInfo.totalAmount,callback:function(t){e.$set(e.loanInfo,"totalAmount",t)},expression:"loanInfo.totalAmount"}}),e._v(" "),o("van-field",{staticClass:"readOnly",attrs:{required:"",clickable:"",label:"租赁期限(月):"},model:{value:e.loanInfo.term,callback:function(t){e.$set(e.loanInfo,"term",t)},expression:"loanInfo.term"}}),e._v(" "),o("van-field",{attrs:{required:"",clickable:"",label:"首付金额(元):"},model:{value:e.loanInfo.downPaymentAmount,callback:function(t){e.$set(e.loanInfo,"downPaymentAmount",t)},expression:"loanInfo.downPaymentAmount"}}),e._v(" "),o("van-field",{staticClass:"readOnly",attrs:{required:"",clickable:"",label:"首付比例(%):"},model:{value:e.loanInfo.downPaymentRate,callback:function(t){e.$set(e.loanInfo,"downPaymentRate",t)},expression:"loanInfo.downPaymentRate"}}),e._v(" "),o("van-field",{staticClass:"readOnly",attrs:{required:"",clickable:"",label:"融资金额(元):"},model:{value:e.loanInfo.amount,callback:function(t){e.$set(e.loanInfo,"amount",t)},expression:"loanInfo.amount"}}),e._v(" "),o("van-field",{staticClass:"readOnly",attrs:{required:"",clickable:"",label:"净融资额(元):"},model:{value:e.loanInfo.netAmount,callback:function(t){e.$set(e.loanInfo,"netAmount",t)},expression:"loanInfo.netAmount"}}),e._v(" "),o("van-field",{staticClass:"readOnly",attrs:{required:"",clickable:"",label:"租赁成数(%):"},model:{value:e.loanInfo.rate,callback:function(t){e.$set(e.loanInfo,"rate",t)},expression:"loanInfo.rate"}}),e._v(" "),o("van-field",{staticClass:"readOnly",attrs:{required:"",clickable:"",label:"还款周期:"},model:{value:e.loanInfo.repaymentCycleTypeValue,callback:function(t){e.$set(e.loanInfo,"repaymentCycleTypeValue",t)},expression:"loanInfo.repaymentCycleTypeValue"}}),e._v(" "),o("van-field",{attrs:{required:"",clickable:"",label:"每期租金(元):"},model:{value:e.loanInfo.monthRent,callback:function(t){e.$set(e.loanInfo,"monthRent",t)},expression:"loanInfo.monthRent"}})],1),e._v(" "),o("div",[o("div",{staticClass:"header"},[e._v("支付信息")]),e._v(" "),o("van-field",{staticClass:"readOnly",attrs:{required:"",clickable:"",label:"支付方式:"},model:{value:e.zfType,callback:function(t){e.zfType=t},expression:"zfType"}}),e._v(" "),o("van-field",{attrs:{required:"","is-link":"",readonly:"",clickable:"",label:"付款账户:",placeholder:"请选择付款账户"},on:{click:function(t){e.showAccount=!0}},model:{value:e.accountInfo.accountNumber,callback:function(t){e.$set(e.accountInfo,"accountNumber",t)},expression:"accountInfo.accountNumber"}}),e._v(" "),o("van-field",{staticClass:"readOnly",attrs:{required:"",clickable:"",label:"户名:"},model:{value:e.accountInfo.accountName,callback:function(t){e.$set(e.accountInfo,"accountName",t)},expression:"accountInfo.accountName"}}),e._v(" "),o("van-field",{staticClass:"readOnly",attrs:{required:"",clickable:"",label:"开户银行:"},model:{value:e.accountInfo.bankName,callback:function(t){e.$set(e.accountInfo,"bankName",t)},expression:"accountInfo.bankName"}}),e._v(" "),o("van-field",{staticClass:"readOnly",attrs:{required:"",clickable:"",label:"支行名称:"},model:{value:e.accountInfo.subbranchName,callback:function(t){e.$set(e.accountInfo,"subbranchName",t)},expression:"accountInfo.subbranchName"}})],1)]),e._v(" "),o("div",{staticClass:"subBtn"},[o("van-button",{staticClass:"subBtn_body",attrs:{block:"",type:"info"},on:{click:e.toSub}},[e._v("保 存")])],1),e._v(" "),o("div",[o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showZF,callback:function(t){e.showZF=t},expression:"showZF"}},[o("van-picker",{attrs:{title:"","show-toolbar":"",columns:e.zfList},on:{confirm:e.selectZF,cancel:function(t){e.showZF=!1}}})],1),e._v(" "),o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showTXPlan,callback:function(t){e.showTXPlan=t},expression:"showTXPlan"}},[o("van-picker",{attrs:{title:"","show-toolbar":"",columns:e.TXPlanList},on:{confirm:e.selectTXPlan,cancel:function(t){e.showTXPlan=!1}}})],1),e._v(" "),o("van-popup",{style:{height:"300px",width:"100%"},attrs:{position:"bottom","get-container":"body"},model:{value:e.showAccount,callback:function(t){e.showAccount=t},expression:"showAccount"}},[o("van-picker",{attrs:{title:"","show-toolbar":"",columns:e.accountList},on:{confirm:e.selectAccount,cancel:function(t){e.showAccount=!1}}})],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"padding-left":"10px"}},[t("div",{staticClass:"zlhjRadioLine"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"padding-left":"10px"}},[t("div",{staticClass:"zlhjRadioLine"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"padding-left":"10px"}},[t("div",{staticClass:"zlhjRadioLine"})])}]};var xe=o("VU/8")(Ie,ke,!1,function(e){o("QE/w")},"data-v-d3915c4e",null).exports,Ce={data:function(){return{value:"",refreshing:!1,finished:!1,loading:!1,pageIndex:0,productList:[]}},methods:{onSearch:function(){},onCancel:function(){},selected:function(e){this.$store.state.productItem=e,this.$router.back()},onRefresh:function(){this.pageIndex=1,this.finished=!1,this.loading=!0,this.getData()},onLoad:function(){this.pageIndex+=1,this.getData()},getData:function(){var e,t=this,o=this.$toast.loading({duration:0,message:"加载中...",forbidClick:!0,loadingType:"spinner"}),s=u()({loanNumber:this.$store.state.loanNumber,pageIndex:this.pageIndex,pageSize:10,financingChannelId:this.$route.params.financingChannelId,keyword:this.value});console.log("参数:",s),(e=s,g({method:"post",url:"/api/loan/product/getPageList",data:e})).then(function(e){o.clear();var s=e.data.data.total,a=e.data.data.records;for(var i in t.refreshing&&(t.productList=[],t.refreshing=!1),a)t.productList.push(a[i]);t.loading=!1,t.productList.length>=s&&(t.finished=!0)})}},beforeRouteLeave:function(e,t,o){"/selectProduct"==e.path?e.meta.keepAlive=!0:e.meta.keepAlive=!1,o()}},we={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"search van-hairline--surround"},[o("van-search",{staticStyle:{"text-align":"left"},attrs:{placeholder:"请输入搜索关键词","input-align":"center"},on:{search:e.onSearch,cancel:e.onCancel},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),e._v(" "),o("div",{staticClass:"productListBody"},[o("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[o("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了!"},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.productList,function(t,s){return o("div",{key:s,staticClass:"searchContent van-hairline--bottom",on:{click:function(o){return e.selected(t)}}},[e._v(e._s(t.name))])}),0)],1)],1)])},staticRenderFns:[]};var Se=o("VU/8")(Ce,we,!1,function(e){o("ys+6")},"data-v-6b1c03a5",null).exports,Pe={data:function(){return{planList:[]}},mounted:function(){console.log("还款计划表参数：",this.$route.params),this.getRepaymentPlan()},methods:{getRepaymentPlan:function(){var e,t=this;(e=this.$route.params,g({method:"post",url:"/api/loan/repaymentPlan/test",data:e})).then(function(e){console.log("还款计划表：",e),t.planList=e.data.data})},getRepaymentMethodValue:function(e){switch(parseInt(e)){case 1:return"等额本息";case 2:return"等额本金";case 3:return"等本等息";default:return""}}}},Ae={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"top"},[o("div",{staticClass:"header"},[e._v("查询条件")]),e._v(" "),o("div",{staticClass:"content"},[o("div",{staticStyle:{width:"50%"}},[e._v("融资金额："+e._s(this.$route.params.amount)+"元")]),e._v(" "),o("div",[e._v("期限："+e._s(this.$route.params.term)+"月")])]),e._v(" "),o("div",{staticClass:"content"},[o("div",{staticStyle:{width:"50%"}},[e._v("执行利率："+e._s(this.$route.params.rate)+"%")]),e._v(" "),o("div",[e._v("还款方式："+e._s(e.getRepaymentMethodValue(this.$route.params.repaymentMethod)))])]),e._v(" "),o("div",{staticClass:"header"},[e._v("还款计划表")]),e._v(" "),e._m(0)]),e._v(" "),o("div",{staticStyle:{"margin-top":"170px",height:"100%"}},e._l(e.planList,function(t,s){return o("div",{key:s,staticClass:"plan van-hairline--bottom",staticStyle:{"font-size":"12px"}},[o("div",{staticStyle:{flex:"0.6","text-align":"center"}},[e._v(e._s(t.term))]),e._v(" "),o("div",{staticClass:"item"},[e._v(e._s(t.capital))]),e._v(" "),o("div",{staticClass:"item"},[e._v(e._s(t.interest))]),e._v(" "),o("div",{staticClass:"item"},[e._v(e._s(t.monthlyFee))]),e._v(" "),o("div",{staticClass:"item"},[e._v(e._s(t.otherFee))])])}),0)])},staticRenderFns:[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"plan van-hairline--bottom",staticStyle:{"font-size":"14px"}},[o("div",{staticStyle:{flex:"0.6"}},[e._v("期数")]),e._v(" "),o("div",{staticClass:"item"},[e._v("本金")]),e._v(" "),o("div",{staticClass:"item"},[e._v("利息")]),e._v(" "),o("div",{staticClass:"item"},[e._v("租金")]),e._v(" "),o("div",{staticClass:"item"},[e._v("服务费")])])}]};var Te=o("VU/8")(Pe,Ae,!1,function(e){o("aYxx")},"data-v-eb16fefc",null).exports,Ve={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var Ne=o("VU/8")({},Ve,!1,function(e){o("JELy")},null,null).exports;s.a.use(n.a);var Re=new n.a({routes:[{path:"/menu",name:"menu",component:V,meta:{keepAlive:!1,title:"材料"}},{path:"/search",name:"search",component:O,meta:{keepAlive:!1,title:"查询"}},{path:"/mine",name:"mine",component:F,meta:{keepAlive:!1,title:"我的"}},{path:"/setup",name:"setup",component:J,meta:{keepAlive:!1,title:"设置"}},{path:"/getphonecode",name:"getphonecode",component:W,meta:{keepAlive:!1,title:"安全验证"}},{path:"/setnewpassword",name:"setnewpassword",component:Y,meta:{keepAlive:!1,title:"修改密码"}},{path:"/",name:"main",component:A,meta:{keepAlive:!1,title:"首页"}},{path:"/carInfo",name:"carInfo",component:L,meta:{keepAlive:!0,title:"车辆信息"}},{path:"/exhibitionList",name:"exhibitionList",component:w,meta:{keepAlive:!1,title:"经销商列表"}},{path:"/carModels",name:"carModels",component:j,meta:{keepAlive:!0,title:"车辆品牌"}},{path:"/carModelList",name:"carModelList",component:K,meta:{keepAlive:!1,title:"车辆品牌列表"}},{path:"/carsList",name:"carsList",component:oe,meta:{keepAlive:!1,title:"车系列表"}},{path:"/business",name:"business",component:le,meta:{keepAlive:!1,title:"车系列表"}},{path:"/userInfo",name:"userInfo",component:de,meta:{keepAlive:!1,title:"个人信息"}},{path:"/userInfoDetail",name:"userInfoDetail",component:ye,meta:{keepAlive:!1,title:"个人详细信息"}},{path:"/maleBrandInfoDetail",name:"maleBrandInfoDetail",component:ge,meta:{keepAlive:!1,title:"个人详细信息"}},{path:"/selectProduct",name:"selectProduct",component:xe,meta:{keepAlive:!0,title:"选择产品"}},{path:"/reimbursementPlan",name:"reimbursementPlan",component:Te,meta:{keepAlive:!1,title:"还款计划表-试算"}},{path:"/productList",name:"productList",component:Se,meta:{keepAlive:!1,title:"产品列表"}},{path:"/uploadFile",name:"uploadFile",component:Ne,meta:{keepAlive:!1,title:"文件上传"}}]}),Ue=(o("4ml/"),o("YqKu")),$e=o.n(Ue);o("r2YW");s.a.use($e.a),s.a.config.productionTip=!1,s.a.use(Re),s.a.use(f.b),Re.beforeEach(function(e,t,o){e.meta.title&&(document.title=e.meta.title),o()}),Re.afterEach(function(e){if(e.meta.title&&(document.title=e.meta.title,navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/))){var t=document.createElement("iframe");t.style.display="none",t.src="/static/html/fixIosTitle.html?r="+Math.random(),document.body.appendChild(t),setTimeout(function(e){document.body.removeChild(t)},300)}}),new s.a({el:"#app",router:Re,store:b,components:{App:i},template:"<App/>"})},OEdL:function(e,t){},Omzf:function(e,t){},"OxE+":function(e,t){},"QE/w":function(e,t){},TWJO:function(e,t){},aYxx:function(e,t){},bVvF:function(e,t){},cdZy:function(e,t){},f8Zz:function(e,t){},iU4w:function(e,t){},nyYa:function(e,t){},qQHT:function(e,t){},r2YW:function(e,t){},"ys+6":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e04969034cdbe00368c6.js.map